(function(e){function t(t){for(var r,n,s=t[0],c=t[1],d=t[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={app:0},i=[];function n(e){return s.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-2d213e8b":"ec80f855","polyfills-core-js":"544d95fa","polyfills-dom":"5746c7d6"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=n(e);var d=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,a[1](d)}o[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=d;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"app",attrs:{id:"app"}},[a("router-view")],1)},i=[],n=a("8c4f"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"BUG","data-background":"navy"}},["dashboard"===e.currentPage?r("div",{staticClass:"Page",attrs:{id:"Dashboard","data-background":"navy"}},[r("img",{staticClass:"Logo",attrs:{src:a("d6cc")}}),e.playedBefore?e._e():r("div",{attrs:{id:"Name_Input"}},[r("div",{staticClass:"Name_Input_Instructions"},[e._v("What's your name?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.playerName,expression:"playerName"}],attrs:{name:"playerName",placeholder:""},domProps:{value:e.playerName},on:{input:function(t){t.target.composing||(e.playerName=t.target.value)}}})]),e.playerReady?r("div",{staticClass:"Controls"},[r("div",{staticClass:"Button",attrs:{"data-color":"magenta"},on:{click:function(t){return e.changePage("game")}}},[e._v(" start ")]),r("div",{staticClass:"Button",attrs:{"data-color":"purple"},on:{click:function(t){return e.changePage("leaderboard")}}},[e._v(" leaderboard ")])]):e._e()]):e._e(),"level-select"===e.currentPage?r("div",{staticClass:"Page",attrs:{id:"LevelSelect","data-background":"navy"}},[r("div",{staticClass:"Controls"},[r("div",{staticClass:"Button",attrs:{"data-color":"purple"},on:{click:function(t){return e.changePage("game")}}},[e._v(" go! ")])])]):e._e(),"leaderboard"===e.currentPage?r("div",{staticClass:"Page",attrs:{id:"Leaderboard","data-background":"navy"}},[r("div",{staticClass:"LeaderBoard_Table"},[r("div",{staticClass:"LeaderBoard_TableHeader"},[e._v("top 10 worldwide")]),r("div",{staticClass:"LeaderBoard_TableBody"},[r("table",e._l(e.leaderBoardEntries,(function(t,a){return r("tr",{key:a,staticClass:"LeaderBoard_Table_Entry"},[r("td",{staticClass:"LeaderBoard_Player"},[e._v(e._s(t.player))]),r("td",{staticClass:"LeaderBoard_Score"},[e._v(e._s(t.score))])])})),0)])]),r("div",{staticClass:"Controls"},["over"===e.gameStatus||"complete"===e.gameStatus?r("div",{staticClass:"Button",attrs:{"data-color":"magenta"},on:{click:function(t){return e.changePage("game")}}},[e._v(" go again! ")]):e._e(),r("div",{staticClass:"Button",attrs:{"data-color":"purple"},on:{click:function(t){return e.changePage("dashboard")}}},[e._v(" dashboard ")])])]):e._e(),"game"===e.currentPage?r("div",{class:{Page:!0,shake:e.shakeScreenNow&&!0===e.currentLevel.shakeScreen},attrs:{id:"Game","data-status":e.gameStatus,"data-background":e.gameBackground,"data-audio-step":e.currentAudioStep}},["fx"===e.gameBackground?r("div",{staticClass:"Audio_Background"},e._l(e.audio.levels.perc,(function(t,a){return r("div",{key:a,style:{opacity:e.audio.levels.perc[a]>=80?.01*e.audio.levels.perc[a]:.25},attrs:{"data-level":a}})})),0):e._e(),r("div",{attrs:{id:"PhaserGame"}}),"over"===e.gameStatus||"complete"===e.gameStatus?r("div",{staticClass:"PostGame_Overlay"},[e.gameMessage?r("div",{staticClass:"PostGame_Message"},[r("div",[e._v(e._s(e.gameMessage))]),e.highScore?r("div",{attrs:{"data-text-color":"yellow"}},[e._v(e._s(e.totalScore))]):e._e()]):e._e(),r("div",{staticClass:"PostGame_Controls"},[r("div",{staticClass:"Button",attrs:{"data-color":"magenta"},on:{click:function(t){return e.initializeGame(!0)}}},[e._v(" go again! ")]),e.highScore?r("div",{staticClass:"Button",attrs:{"data-color":"purple"},on:{click:function(t){return e.changePage("leaderboard")}}},[e._v(" leaderboard ")]):e._e(),e.highScore?e._e():r("div",{staticClass:"Button",attrs:{"data-color":"purple"},on:{click:function(t){return e.changePage("dashboard")}}},[e._v(" dashboard ")])])]):e._e(),r("div",{staticClass:"HUD"},[r("div",{staticClass:"HUD_Bottom"},[r("div",{staticClass:"HUD_Bottom_Left"},[r("div",{staticClass:"HUD_Life"},[e._l(e.lives,(function(e,t){return r("div",{key:t,staticClass:"HUD_Lives"})})),r("div",{staticClass:"HUD_LifeBar",attrs:{"data-level":e.lifeLevel}},[r("div",{staticClass:"HUD_LifeBar_Fill",style:{width:e.life+"%"}})])],2)]),r("div",{staticClass:"HUD_Bottom_Right"},[r("div",{staticClass:"TotalScore"},[e._v(e._s(e.totalScore))])])])])]):e._e(),r("audio",{ref:"soundPlayer",staticStyle:{display:"none"}})])},c=[],d=a("d4ec"),u=a("bee2"),l=a("45eb"),m=a("7e84"),h=a("262e"),f=a("2caf"),p=(a("4e82"),a("4160"),a("d3b7"),a("159b"),a("4de4"),a("c740"),a("a434"),a("b0c0"),a("4795"),a("6eba"),a("0d03"),a("d4ef")),g=a.n(p),v=(a("c0b6"),a("ace4"),a("cfc3"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("5cc6"),a("20bf"),a("6b93"),a("b680"),a("2ef0"),a("1e5c")),b={methods:{playBeat:function(e){v["Howler"].stop();var t=this;e.currentLevel.soundObject?(e.currentLevel.soundObject.volume(1),e.currentLevel.soundObject.play()):t.loadSound(e)},stopSound:function(e){var t=500;e.currentLevel.soundObject.fade(1,0,500),e.currentLevel.fadeTimer=setTimeout((function(){e.currentLevel.soundObject.stop()}),t)},pauseSound:function(e){e.currentLevel.soundObject.play()},updateCurrentTime:function(e){e.currentLevel.soundObject.seek()},loadSound:function(e){var t={methodsReference:this};e.currentLevel.fadeTimer&&clearTimout(e.currentLevel.fadeTimer),r["a"].set(e.currentLevel,"soundObject",new v["Howl"]({src:"./audio/"+e.currentLevel.filename+".mp3",volume:1,onplay:function(){t.methodsReference.updateCurrentTime(e,e.currentLevel.soundObject),e.soundObjectRAF=requestAnimationFrame(h.bind(e.currentLevel.soundObject))},onload:function(){r["a"].set(e.currentLevel,"duration",e.currentLevel.soundObject._duration),t.methodsReference.playBeat(e)},onend:function(){cancelAnimationFrame(e.soundObjectRAF);var t=e.levels.findIndex((function(t){return t._id===e.currentLevel._id}))+1;t===e.levels.length?e.endGame():(e.currentLevel=e.levels[t],e.startLevel())},onpause:function(){cancelAnimationFrame(e.soundObjectRAF)},onstop:function(){cancelAnimationFrame(e.soundObjectRAF)},onseek:function(){t.methodsReference.updateCurrentTime(e,e.currentLevel.soundObject),e.soundObjectRAF=requestAnimationFrame(h.bind(e.currentLevel.soundObject))}}));var a=v["Howler"].ctx,o=a.createBufferSource(e.currentLevel.soundObject),i=a.createAnalyser();i.fftSize=1024;var n,s=i.frequencyBinCount,c=2;function d(){var t=[],a=[],o=16,i=s/o;if(1===c||2===c){var d=n;2===c&&(d=Float32Array.from(n));for(var u=0;u<i;u++){for(var l=u*o,m=(u+1)*o,h=m-l,f=0,p=l;p<m;p++){var g=d[p];2===c&&(g=(g-128)/128),f+=Math.pow(g,2)}var v=10*Math.log10(f/h),b=(100+v).toFixed();t.push(v),a.push(b)}}var y={hertz:t,perc:a};return r["a"].set(e.audio,"levels",y),y}function u(t){var a=!0,o=d();if("any"===t.mode){if(t.aboveLevel){for(var i=!1,n=t.aboveLevel;n<o.hertz.length;n++)o.hertz[n]>t.threshold&&(i=!0);if(t.excludeBelow)for(var s=0;s<t.excludeBelow;s++)o.hertz[s]>t.threshold&&(i=!1);!1===i&&(a=!1)}}else{for(var c=t.maxLevel-t.minLevel,u=0,l=t.minLevel;l<t.maxLevel;l++)u+=o.hertz[l];var m,h=u/c;if(t.minExclude){for(var f=t.maxExclude-t.minExclude,p=0,g=t.minExclude;g<t.maxExclude;g++)p+=o.hertz[g];m=p/f}h<t.threshold&&(a=!1),m&&m>t.exThreshold&&(a=!1)}if(!0===a){r["a"].set(e.audio,t.name,!0);var v=t.name+"Timer";if(e.audio[v]&&clearTimeout(e.audio[v]),r["a"].set(e.audio,v,setTimeout((function(){r["a"].set(e.audio,t.name,!1),r["a"].set(e.audio,v,"")}),t.release)),t.bassSteps){r["a"].set(e.audio.bassSteps,"trigger",!1);var b=e.audio.bassSteps.current+1>t.bassSteps.count?0:e.audio.bassSteps.current+1;r["a"].set(e.audio.bassSteps,"current",b),r["a"].set(e.audio.bassSteps,"timer",setTimeout((function(){r["a"].set(e.audio.bassSteps,"trigger",!0)}),"100"))}}}n=1===c?new Float32Array(i.fftSize):new Uint8Array(i.fftSize),o.connect(i),v["Howler"].masterGain.connect(i);var l=0,m=60;function h(a){var r=this,o=a-l;m&&o<1e3/m||(r._sounds[0]&&(t.methodsReference.updateCurrentTime(e,r),1===c?i.getFloatTimeDomainData(n):2===c&&i.getByteTimeDomainData(n),d(),u({name:"deepBass",minLevel:1,maxLevel:7,threshold:-5,release:250,bassSteps:{power:!0,count:6}}),u({name:"crazyBass",minLevel:1,maxLevel:4,threshold:-3,release:250}),u({name:"midBass",minLevel:5,maxLevel:10,threshold:-10,release:250}),u({name:"treble",mode:"any",aboveLevel:25,threshold:-10,excludeBelow:20,exThreshold:-40,release:50})),l=a),r.playing()&&(e.soundObjectRAF=requestAnimationFrame(h.bind(r)))}}}},y={name:"Game",mixins:[b],computed:{playerName:{set:function(e){this.$store.commit("setPlayer",e)},get:function(){return this.$store.state.currentPlayer}},playerReady:function(){return this.$store.state.currentPlayer.length>0},highScore:function(){var e=!1;return e},shipAlive:function(){return this.life>0},lifeLevel:function(){var e=this.life>=75?"high":this.life>=50?"med":"low";return e},totalScore:function(){return this.$store.state.totalScore},gameMessage:function(){var e="paused"===this.gameStatus?"paused":"error"===this.gameStatus?"error - refresh to start over":"over"===this.gameStatus?"you dead":"complete"===this.gameStatus&&this.highScore?"high score":"complete"===this.gameStatus&&"more coming soon";return e},leaderBoardEntries:function(){var e=this.$store.state.leaderBoardEntries;return e},gameBackground:function(){var e="over"===this.gameStatus?"burgundy":"complete"===this.gameStatus?"navy":this.currentLevel.background?this.currentLevel.background:"navy";return e},currentAudioStep:function(){return this.audio.bassSteps.current||1},shakeScreenNow:function(){return!0===this.audio.crazyBass}},data:function(){return{playedBefore:!1,currentPage:"dashboard",gameInitialization:!1,gameConfig:{},gameStatus:"loading",gameAttempts:[],life:100,lives:3,audio:{bassSteps:{current:0,count:0},levels:{}},levels:[{_id:1,filename:"test",background:"navy",gravity:50},{_id:2,filename:"test",background:"purple",gravity:125},{_id:3,filename:"test",background:"jazz",gravity:250,shakeScreen:!0},{_id:4,filename:"4",background:"black",gravity:200},{_id:5,filename:"5",background:"steps",gravity:750}],currentLevel:{},currentDeathObjects:[],currentPointStars:[],bulletSpeed:750,goodObjects:[{name:"point-star",width:23,height:23,points:5,prob:1}],deathObjects:[{name:"spiral",width:47,height:45,prob:.025},{name:"comet",width:40,height:46,points:500,prob:.3},{name:"stroid",width:42,height:40,points:250,prob:.5},{name:"star",width:23,height:23,points:100,prob:1}],x:window.innerWidth/2,y:window.innerHeight-50,updateTime:25,updateTimer:0}},methods:{randomItemProbablity:function(e){for(var t,a=e.sort((function(e,t){var a=e.prob,r=t.prob;return a-r})),r=Math.random(),o=0;o<a.length;o++){var i=o>0?a[o-1].prob:0;if(r>i&&r<=a[o].prob){t=e[o];break}}return t},randomNumber:function(e,t){return Math.random()*(t-e)+e},systemSound:function(e){var t=this.$refs.soundPlayer;t.src="audio/effects/"+e+".mp3",t.play()},changePage:function(e){var t=this;this.currentPage=e,t.systemSound("button-select"),this.$nextTick((function(){"started"===t.gameStatus||"over"===t.gameStatus||"complete"===t.gameStatus?"game"!==e||t.initializeGame():"game"===e&&t.initializeGame()}))},removeAllObjects:function(){var e=this;e.currentDeathObjects.forEach((function(e){e.object.setActive(!1).setVisible(!1),e.object.destroy()})),e.currentDeathObjects=[],e.currentPointStars.forEach((function(e){e.object.setActive(!1).setVisible(!1),e.object.destroy()})),e.currentPointStars=[]},initializeGame:function(e){var t=this;e&&t.systemSound("button-select"),t.destroyGame&&t.destroyGame.func(),this.gameStatus="loading",t.currentLevel=t.levels[0],t.updateScore("reset"),t.lives=3,t.life=100,t.phaserGame=new g.a.Game(t.gameConfig),t.gameInitialization=!0},endGame:function(){var e=this;e.removeAllObjects(),e.stopSound(e),e.gameStatus="complete",e.addScore()},updateScore:function(e){this.$store.dispatch("updateScore",e)},animateShip:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,o=!0===a||(!(!r.shipAlive||!e.vulnerable)||"death"===t);o&&e.ship.play(t)},shipFloat:function(e){var t=this;t.shipAlive&&t.animateShip(e,"float")},destroyPointStar:function(e){var t=this,a=t.currentPointStars.filter((function(t){return t.id===e})),r=t.currentPointStars.findIndex((function(t){return t.id===e}));r>-1&&(a[0].object.setActive(!1),a[0].object.setVisible(!1),a[0].object.destroy(),t.currentPointStars.splice(r,1))},destroyObject:function(e){var t=this;t.gameContext.sounds.destroy[e.name].play(),"stroid"===e.name&&e.object.clearTint(),e.object.play("destroy-"+e.name),e.object.notAThreat=!0,setTimeout((function(){t.removeObject(e)}),500)},removeObject:function(e){var t=this,a=t.currentDeathObjects.findIndex((function(t){return t.id===e.id}));a>-1&&(e.object.setActive(!1),e.object.setVisible(!1),e.object.destroy(),t.currentDeathObjects.splice(a,1))},shipLife:function(e,t,a){var r=this;function o(){clearTimeout(e.vulnerabilityTimer),e.vulnerable=!1,e.vulnerabilityTimer=setTimeout((function(){e.vulnerable=!0}),1500)}function i(){r.lives-=1,r.lives<1?(r.stopSound(r),r.gameStatus="over",r.addScore()):r.addShip(e)}"restore"===t?(r.life=100,r.animateShip(e,"restore")):e.vulnerable&&("death"!==t&&(t<0?(a&&e.sounds.damage[a]&&e.sounds.damage[a].play(),r.life-=-1*t,r.animateShip(e,"damage")):t>0&&(r.life+=t)),"death"!==t&&r.shipAlive?o():(a&&e.sounds.death[a].play(),e.vulnerable=!1,clearTimeout(e.vulnerabilityTimer),r.life=0,r.animateShip(e,"death"),setTimeout((function(){r.removeAllObjects(),i()}),2e3)))},addShip:function(e){var t=this;t.systemSound("ship-entrance"),t.gameContext.ship&&(t.gameContext.ship.setActive(!1).setVisible(!1),t.gameContext.ship.destroy(),t.gameContext.ship={}),e.ship=e.physics.add.sprite(t.x,t.y,"ship").setDepth(1),e.ship.body.setAllowGravity(!1),t.life=100,e.vulnerable=!0,t.shipFloat(e),e.physics.add.overlap(e.bullets,e.ship,(function(a,r){r.friendlyFire&&(t.shipLife(e,-25,"bullet"),r.setActive(!1).setVisible(!1))}))},startLevel:function(){var e=this;console.log(e.currentLevel.gravity),e.currentLevel.gravity&&(e.gameContext.physics.world.gravity.y=e.currentLevel.gravity),e.playBeat(e)},getLeaderBoard:function(){var e=this;e.$store.dispatch("getLeaderBoard")},addScore:function(){var e=this,t={player:this.$store.state.currentPlayer,score:e.totalScore};e.$store.dispatch("addScore",t)}},mounted:function(){var e=this;e.gameConfig={parent:"PhaserGame",width:window.innerWidth,height:window.innerHeight,transparent:!0,type:g.a.AUTO,scene:{physics:{arcade:{debug:!1,gravity:{x:0,y:50}},matter:{gravity:{y:0}}},init:function(){},preload:function(){var t=this;e.gameContext=this,t.load.spritesheet("ship","image/ship.svg",{frameWidth:50,height:50}),t.load.image("bullet","image/ship-bullet.svg"),t.load.image("lifebase","image/lifebase.svg",{frameWidth:60,height:40}),e.deathObjects.forEach((function(e,a){var r="death-"+e.name;t.load.spritesheet(r,"image/"+r+".svg",{frameWidth:e.width,frameHeight:e.height})})),e.goodObjects.forEach((function(e,a){var r=e.name;t.load.spritesheet(r,"image/"+r+".svg",{frameWidth:e.width,frameHeight:e.height})})),t.load.audio("gun-1",["audio/effects/gun-1.ogg","audio/effects/gun-1.mp3"]),t.load.audio("gun-2",["audio/effects/gun-2.ogg","audio/effects/gun-2.mp3"]),t.load.audio("damage-star",["audio/effects/damage-star.ogg","audio/effects/damage-star.mp3"]),t.load.audio("damage-bullet",["audio/effects/damage-bullet.ogg","audio/effects/damage-bullet.mp3"]),t.load.audio("destroy-comet",["audio/effects/destroy-comet.ogg","audio/effects/destroy-comet.mp3"]),t.load.audio("destroy-stroid",["audio/effects/destroy-stroid.ogg","audio/effects/destroy-stroid.mp3"]),t.load.audio("destroy-star",["audio/effects/destroy-star.ogg","audio/effects/destroy-star.mp3"]),t.load.audio("spiral-ricochet",["audio/effects/spiral-ricochet.ogg","audio/effects/spiral-ricochet.mp3"]),t.load.audio("death-comet",["audio/effects/death-comet.ogg","audio/effects/death-comet.mp3"]),t.load.audio("death-stroid",["audio/effects/death-stroid.ogg","audio/effects/death-stroid.mp3"]),t.load.audio("death-star",["audio/effects/death-star.ogg","audio/effects/death-star.mp3"]),t.load.audio("death-spiral",["audio/effects/death-spiral.ogg","audio/effects/death-spiral.mp3"]),t.load.audio("death-bullet",["audio/effects/death-bullet.ogg","audio/effects/death-bullet.mp3"]),t.load.audio("point-star-1",["audio/effects/point-star-1.ogg","audio/effects/point-star-1.mp3"]),t.load.audio("point-star-2",["audio/effects/point-star-2.ogg","audio/effects/point-star-2.mp3"]),t.load.audio("point-star-3",["audio/effects/point-star-3.ogg","audio/effects/point-star-3.mp3"]),t.load.audio("point-star-4",["audio/effects/point-star-4.ogg","audio/effects/point-star-4.mp3"]),t.load.audio("point-star-destroy",["audio/effects/point-star-destroy.ogg","audio/effects/point-star-destroy.mp3"])},create:function(){var t=this,a=this;e.playedBefore=!0,e.destroyGame={func:function(){a.sys.game.destroy(!0)}},a.anims.create({key:"float",frameRate:5,frames:this.anims.generateFrameNumbers("ship",{start:2,end:2}),repeat:-0}),a.anims.create({key:"go",frameRate:5,frames:this.anims.generateFrameNumbers("ship",{start:3,end:3}),repeat:-1}),a.anims.create({key:"restore",frameRate:10,frames:this.anims.generateFrameNumbers("ship",{frames:[0,2]}),repeat:3}),a.anims.create({key:"damage",frameRate:10,frames:this.anims.generateFrameNumbers("ship",{frames:[1,2]}),repeat:3}),a.anims.create({key:"death",frameRate:5,frames:this.anims.generateFrameNumbers("ship",{start:4,end:4}),repeat:-0}),a.bullets=new o(a),a.input.on("pointerdown",(function(a){e.shipAlive&&t.bullets.fireBullet(t.ship.x,t.ship.y-20)})),e.addShip(a),e.goodObjects.forEach((function(e,t){var r=e.name;a.anims.create({key:r,frameRate:1,frames:a.anims.generateFrameNumbers(r,{start:1,end:1}),repeat:-0})})),e.deathObjects.forEach((function(e,t){var r="death-"+e.name;"spiral"!=e.name&&a.anims.create({key:"destroy-"+e.name,frameRate:1,frames:a.anims.generateFrameNumbers(r,{start:1,end:1}),repeat:-0})})),a.sounds={button:{},"point-star":[a.sound.add("point-star-1"),a.sound.add("point-star-2"),a.sound.add("point-star-3"),a.sound.add("point-star-4")],gun:[a.sound.add("gun-1"),a.sound.add("gun-2")],death:{comet:a.sound.add("death-comet"),stroid:a.sound.add("death-stroid"),star:a.sound.add("death-star"),spiral:a.sound.add("death-spiral"),bullet:a.sound.add("death-bullet")},destroy:{comet:a.sound.add("destroy-comet"),stroid:a.sound.add("destroy-stroid"),star:a.sound.add("destroy-star"),"spiral-ricochet":a.sound.add("spiral-ricochet"),"point-star-destroy":a.sound.add("point-star-destroy")},damage:{star:a.sound.add("damage-star"),bullet:a.sound.add("damage-bullet")}},e.startLevel(),e.gameStatus="started"},update:function(t,a){var r=this,o=r.sys.game.canvas;o.width,o.height;if("over"!==e.gameStatus&&"complete"!==e.gameStatus){while(!e.updateTimer||t>e.updateTimer+e.updateTime){var s=20;if(e.currentPointStars.length<=20){var c=g.a.Math.Between(s,r.game.config.width-s);new n(r,c,0)}if(e.audio.midBass&&e.currentDeathObjects.length<15){var d=e.randomItemProbablity(e.deathObjects),u=d.name,l=g.a.Math.Between(s,r.game.config.width-s);new i(r,l,0,u)}e.updateTimer=t}e.currentDeathObjects.filter((function(e){return"spiral"===e.name})).forEach((function(e){e.object.rotation+=.125})),0===e.life&&r.deathBySpiral&&r.deathBySpiral.object&&(r.ship.setOrigin(.5,.5),r.ship.angle+=25,r.physics.moveToObject(r.ship,r.deathBySpiral.object,500),r.ship.scale>0?r.ship.scale-=.1:(r.ship.scale=0,e.shipLife(r,"death"),r.deathBySpiral=!1)),e.currentPointStars.forEach((function(t){if(t){var a={x:t.object.x,y:t.object.y};(a.y>e.gameContext.game.config.height||a.y<0)&&e.destroyPointStar(t.id)}})),e.currentDeathObjects.forEach((function(t){if(t){var a={x:t.object.x,y:t.object.y};(a.y>e.gameContext.game.config.height||a.y<0)&&(e.removeObject(t),e.shipAlive&&r.movementScoreTrigger&&e.updateScore(10))}}))}}}};var t=50;function a(a){var r=a.touches?{x:a.touches[0].pageX,y:a.touches[0].pageY}:a.changedTouches?{x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY}:{x:a.clientX,y:a.clientY};if(e.gameContext){var o=500;if(e.animateShip(e.gameContext,"go"),setTimeout((function(){e.shipFloat(e.gameContext)}),o),e.gameContext.ship&&e.shipAlive){var i={targets:e.gameContext.ship,x:r.x,duration:250,ease:"Sine.easeOut"};("complete"===e.gameStatus||r.y>=e.gameContext.game.config.height/2&&r.y<=e.gameContext.game.config.height-t)&&(i.y=r.y),e.gameContext.tweens.add(i,this);var n=5e3;clearTimeout(e.gameContext.movementScoreTimer),e.gameContext.movementScoreTrigger=!0,e.gameContext.movementScoreTimer=setTimeout((function(){e.gameContext.movementScoreTrigger=!1}),n)}}}document.addEventListener("touchmove",(function(e){a(e)})),document.addEventListener("mousemove",(function(e){a(e)}));var r=function(t){Object(h["a"])(r,t);var a=Object(f["a"])(r);function r(e,t,o){return Object(d["a"])(this,r),a.call(this,e,t,o,"bullet")}return Object(u["a"])(r,[{key:"fire",value:function(t,a){this.rotation=0,this.friendlyFire=!1,this.richochetDecided=!1,this.body.reset(t,a),this.setActive(!0),this.setVisible(!0),this.setVelocityY(-1*e.bulletSpeed)}},{key:"preUpdate",value:function(t,a){Object(l["a"])(Object(m["a"])(r.prototype),"preUpdate",this).call(this,t,a),(this.y<0||this.y>e.gameContext.game.config.height)&&(this.setActive(!1),this.setVisible(!1),this.y=-100,this.x=-100)}}]),r}(g.a.Physics.Arcade.Sprite),o=function(t){Object(h["a"])(o,t);var a=Object(f["a"])(o);function o(e){var t;return Object(d["a"])(this,o),t=a.call(this,e.physics.world,e),t.createMultiple({frameQuantity:7,key:"bullet",active:!1,visible:!1,classType:r}),t}return Object(u["a"])(o,[{key:"fireBullet",value:function(t,a){var r=this.getFirstDead(!1);r&&(e.gameContext.sounds.gun[Math.floor(Math.random()*e.gameContext.sounds.gun.length)].play(),r.fire(t,a))}}]),o}(g.a.Physics.Arcade.Group),i=function(t){Object(h["a"])(r,t);var a=Object(f["a"])(r);function r(t,o,i,n){var s;Object(d["a"])(this,r);var c="death-"+n,u=Date.now(),l="spiral"===n?-1:0;s=a.call(this,t,o,i,c);var m=s.scene.physics.add.sprite(o,i,c).setDepth(l),h={object:m,name:n,id:u};if("comet"===n){var f=Math.random()<.1;if(f){h.heatSeek=!0;var p=e.gameContext.physics.accelerateTo(m,e.gameContext.ship.x,e.gameContext.ship.y,e.randomNumber(250,750));m.rotation=p-90,h.points=1500}else m.setVelocityY(e.randomNumber(100,650))}if("stroid"===n){var g=e.randomNumber(.75,1.25);m.scale=g;var v=16777215*Math.random();m.setTint(v,v,v,v)}return"spiral"===n&&(m.scale=1.5),e.gameContext.physics.add.overlap(e.gameContext.bullets,m,(function(t,a){if(!t.notAThreat)if("spiral"===n){if(!a.richochetDecided){var r=Math.random()<.5;a.richochetDecided=!0,r&&(e.gameContext.sounds.destroy["spiral-ricochet"].play(),a.friendlyFire=!0,a.rotation+=.5,a.setVelocityY(.75*e.bulletSpeed))}}else{var o=h.points?h.points:e.deathObjects.filter((function(e){return e.name===n}))[0].points;e.updateScore(o),e.destroyObject(h),a.setActive(!1).setVisible(!1),a.y=-100,a.x=-100}})),e.gameContext.physics.add.overlap(e.gameContext.ship,m,(function(t,a){!a.notAThreat&&e.gameContext.vulnerable&&("spiral"===n?(e.gameContext.sounds.death.spiral.play(),e.life=0,e.gameContext.deathBySpiral={object:a}):("star"===n?e.shipLife(e.gameContext,-10,n):"comet"!==n||h.heatSeek?(e.gameContext.sounds.death[n].play(),e.shipLife(e.gameContext,"death")):e.shipLife(e.gameContext,-50,n),e.destroyObject(h)))})),e.currentDeathObjects.push(h),s}return r}(g.a.Physics.Arcade.Sprite),n=function(t){Object(h["a"])(r,t);var a=Object(f["a"])(r);function r(t,o,i){var n;Object(d["a"])(this,r);var s=Date.now();n=a.call(this,t,o,i);var c=n.scene.physics.add.sprite(o,i,"point-star").setDepth(0),u={object:c,name:name,id:s};return e.gameContext.physics.add.overlap(e.gameContext.bullets,c,(function(t,a){e.gameContext.sounds.destroy["point-star-destroy"].play(),e.destroyPointStar(s),a.setActive(!1).setVisible(!1),a.y=-100,a.x=-100})),e.gameContext.physics.add.overlap(e.gameContext.ship,c,(function(t,a){e.updateScore(e.goodObjects.filter((function(e){return"point-star"===e.name}))[0].points),e.gameContext.sounds["point-star"][Math.floor(Math.random()*e.gameContext.sounds["point-star"].length)].play({volume:.2}),e.destroyPointStar(s)})),e.currentPointStars.push(u),n}return r}(g.a.Physics.Arcade.Sprite);e.getLeaderBoard()}},S=y,j=(a("a07c"),a("2877")),x=Object(j["a"])(S,s,c,!1,null,"6b129cbc",null),C=x.exports,O=[{path:"/",redirect:"/game"},{name:"Game",path:"/game",component:C,props:!0}],_=O;r["a"].use(n["a"]);var L={name:"App",components:{},methods:{},data:function(){return{}},mounted:function(){}},w=L,T=(a("5c0b"),Object(j["a"])(w,o,i,!1,null,null,null)),B=T.exports,P=(a("ddb0"),a("2f62")),k=a("bc3a"),A=a.n(k);r["a"].use(n["a"]);var D=new n["a"]({base:"/",routes:_}),F=D;r["a"].use(P["a"]),r["a"].config.devtools=!0;var E=new P["a"].Store({state:{currentPlayer:"",totalScore:0,leaderBoardEntries:[{player:"nobody",score:"000"}],scoreSubmitted:!1},mutations:{setPlayer:function(e,t){e.currentPlayer=t},updateScore:function(e,t){"reset"===t?e.totalScore=0:e.totalScore+=t,e.scoreSubmitted=!1},updateLeaderBoard:function(e,t){e.leaderBoardEntries=t}},actions:{updateScore:function(e,t){var a=e.commit;a("updateScore",t)},getLeaderBoard:function(e){var t=e.commit;A.a.post("/leaderboard").then((function(e){var a=e.data.entries;t("updateLeaderBoard",a)}))},addScore:function(e,t){var a=e.commit;A.a.post("/leaderboard",{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},params:{player:t.player,score:t.score}}).then((function(e){var t=e.data.entries;a("updateLeaderBoard",t)}))}}}),N=a("dc42");r["a"].config.ignoredElements=[/ion-\w*/],Object(N["a"])(window),r["a"].config.productionTip=!1;new r["a"]({router:F,store:E,render:function(e){return e(B)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"5d0a":function(e,t,a){},"64d5":function(e,t,a){var r={"./ion-phaser.entry.js":["af4d","chunk-2d213e8b"]};function o(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return a.e(t[1]).then((function(){return a(o)}))}o.keys=function(){return Object.keys(r)},o.id="64d5",e.exports=o},"9c0c":function(e,t,a){},a07c:function(e,t,a){"use strict";a("5d0a")},d6cc:function(e,t,a){e.exports=a.p+"img/bug-logo.bbf11399.svg"}});
//# sourceMappingURL=app.c367a0ce.js.map