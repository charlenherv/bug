{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js!/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioPlayer.vue","mtime":1631384415653},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEF1ZGlvRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vbWl4aW5zL0F1ZGlvRnVuY3Rpb25zLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW0F1ZGlvRnVuY3Rpb25zXSwKICBuYW1lOiAiQXVkaW9QbGF5ZXIiLAogIHByb3BzOiBbJ2FwcERhdGEnXSwKICBjb21wdXRlZDogewogICAgY2xpcFRpbWU6IGZ1bmN0aW9uIGNsaXBUaW1lKCkgewogICAgICB2YXIgdGltZSA9IHRoaXMuYXBwRGF0YS5jdXJyZW50SXRlbS5wbGF5TW9kZSA9PT0gJ3RyaW0nID8gdGhpcy5hcHBEYXRhLmN1cnJlbnRJdGVtLmN1cnJlbnRUaW1lIC0gdGhpcy5hcHBEYXRhLmNyb3BwZXIuc3RhcnQgOiB0aGlzLmFwcERhdGEuY3VycmVudEl0ZW0uY3VycmVudFRpbWU7CiAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMuYXBwRGF0YS5jdXJyZW50SXRlbS5wbGF5TW9kZSA9PT0gJ3RyaW0nID8gdGhpcy5hcHBEYXRhLmN1cnJlbnRJdGVtLmNyb3BwZXIuZHVyYXRpb24gOiB0aGlzLmFwcERhdGEuY3VycmVudEl0ZW0uZHVyYXRpb247CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VyVGltZTogdGltZSwKICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24KICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZTb3VuZDogZnVuY3Rpb24gcHJldlNvdW5kKCkgewogICAgICB2YXIgcmVmID0gdGhpczsKICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHJlZi5hcHBEYXRhLm1haW5JdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5faWQgPT09IHJlZi5hcHBEYXRhLmN1cnJlbnRJdGVtLl9pZDsKICAgICAgfSk7CgogICAgICBpZiAoY3VycmVudEluZGV4ICE9PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVmLmFwcERhdGEubWFpbkl0ZW1zW2N1cnJlbnRJbmRleCAtIDFdKTsKICAgICAgICByZWYucGxheVNvdW5kKHJlZi5hcHBEYXRhLCByZWYuYXBwRGF0YS5tYWluSXRlbXNbY3VycmVudEluZGV4IC0gMV0pOwogICAgICB9CiAgICB9LAogICAgbmV4dFNvdW5kOiBmdW5jdGlvbiBuZXh0U291bmQoKSB7CiAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICB2YXIgbmV4dEluZGV4ID0gcmVmLmFwcERhdGEubWFpbkl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gcmVmLmFwcERhdGEuY3VycmVudEl0ZW0uX2lkOwogICAgICB9KSArIDE7CgogICAgICBpZiAobmV4dEluZGV4ID09PSByZWYuYXBwRGF0YS5jdXJyZW50SXRlbS5sZW5ndGggLSAxKSB7CiAgICAgICAgbmV4dEluZGV4ID0gMDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2cobmV4dEluZGV4KTsKICAgICAgcmVmLnBsYXlTb3VuZChyZWYuYXBwRGF0YSwgcmVmLmFwcERhdGEubWFpbkl0ZW1zW25leHRJbmRleF0pOwogICAgfSwKICAgIHNlZWtQbGF5OiBmdW5jdGlvbiBzZWVrUGxheShlKSB7CiAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICB2YXIgcmVjdCA9IGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgIHZhciBwZXJjZW50YWdlID0geCAvIGUuY3VycmVudFRhcmdldC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIGN1ckl0ZW0gPSByZWYuYXBwRGF0YS5jdXJyZW50SXRlbTsKICAgICAgdmFyIHNlY29uZHMgPSBjdXJJdGVtLmR1cmF0aW9uICogcGVyY2VudGFnZTsKICAgICAgcmVmLnNlZWtTb3VuZChjdXJJdGVtLCBzZWNvbmRzKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AudioPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,cAAA,QAAA,gCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,cAAA,CADA;AAEA,EAAA,IAAA,EAAA,aAFA;AAGA,EAAA,KAAA,EAAA,CAAA,SAAA,CAHA;AAIA,EAAA,QAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,UAAA,IAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,QAAA,KAAA,MAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,WAAA,GAAA,KAAA,OAAA,CAAA,OAAA,CAAA,KAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,WAAA;AACA,UAAA,QAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,QAAA,KAAA,MAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,OAAA,CAAA,QAAA,GAAA,KAAA,OAAA,CAAA,WAAA,CAAA,QAAA;AAEA,aAAA;AACA,QAAA,OAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAAA;AAIA;AATA,GAJA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,YAAA,GAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,SAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,GAAA,KAAA,GAAA,CAAA,OAAA,CAAA,WAAA,CAAA,GAAA;AAAA,OAAA,CAAA;;AACA,UAAA,YAAA,KAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,YAAA,GAAA,CAAA,CAAA;AACA,QAAA,GAAA,CAAA,SAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,YAAA,GAAA,CAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,SAAA,GAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,SAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,GAAA,KAAA,GAAA,CAAA,OAAA,CAAA,WAAA,CAAA,GAAA;AAAA,OAAA,IAAA,CAAA;;AACA,UAAA,SAAA,KAAA,GAAA,CAAA,OAAA,CAAA,WAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,SAAA,GAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA,CAAA,OAAA,CAAA,SAAA,CAAA,SAAA,CAAA;AACA,KAjBA;AAkBA,IAAA,QAAA,EAAA,kBAAA,CAAA,EAAA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,aAAA,CAAA,qBAAA,EAAA;AACA,UAAA,CAAA,GAAA,CAAA,CAAA,OAAA,GAAA,IAAA,CAAA,IAAA;AACA,UAAA,UAAA,GAAA,CAAA,GAAA,CAAA,CAAA,aAAA,CAAA,WAAA;AACA,UAAA,OAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA;AACA,UAAA,OAAA,GAAA,OAAA,CAAA,QAAA,GAAA,UAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,OAAA,EAAA,OAAA;AACA;AA1BA;AAfA,CAAA","sourcesContent":["<template>\n    <div class=\"AudioPlayer\" :data-status=\"appData.currentItem.status\">\n        <div class=\"AudioPlayer_SoundControls\">\n            <div class=\"AudioPlayer_PlayPause\" @click=\"playSound(appData, appData.currentItem, null)\">Play</div>\n            <div class=\"AudioPlayer_RewindPrev\" @click=\"prevSound()\">Rewind/Previous</div>\n            <div class=\"AudioPlayer_FowardNext\" @click=\"nextSound()\">Forward/Next</div>\n        </div>\n        <div class=\"AudioPlayer_Progress\" @click=\"seekPlay\">\n            <div class=\"AudioPlayer_ProgressFill\" :style=\"{width: (clipTime.curTime/clipTime.duration) * 100 + '%'}\"></div>\n            <div style=\"display: none;\" class=\"AudioPlayer_ProgressTime\" v-if=\"clipTime.curTime && clipTime.duration\">\n                {{ parseInt((clipTime.curTime)) + ' / ' + parseFloat(clipTime.duration) }}\n            </div>\n        </div>\n         <div v-if=\"appData.currentItem.title\" class=\"AudioPlayer_Details\" style=\"display:none\">\n            <div class=\"AudioPlayer_DetailsRow\">\n                <span class=\"AudioPlayer_DetailsTitle\">{{ appData.currentItem.title }}</span>\n            </div>\n            <div class=\"AudioPlayer_DetailsRow\">\n                <span>By </span><span class=\"AudioPlayer_DetailsAuthor\">{{ appData.currentItem.author }}</span>\n            </div>\n        </div>\n        <div class=\"AudioPlayer_MarketControls\" style=\"display:none\">\n            <div class=\"AudioPlayer_Like\">Save</div>\n            <div class=\"AudioPlayer_Buy\">Buy</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { AudioFunctions } from '../../mixins/AudioFunctions.js';\n\nexport default {\n    mixins: [AudioFunctions],\n    name: \"AudioPlayer\",\n    props: ['appData'],\n    computed: {\n        clipTime: function() {\n            let time = this.appData.currentItem.playMode === 'trim' ? this.appData.currentItem.currentTime - this.appData.cropper.start : this.appData.currentItem.currentTime;\n            let duration = this.appData.currentItem.playMode === 'trim' ? this.appData.currentItem.cropper.duration : this.appData.currentItem.duration;\n            \n            return {\n                curTime: time,\n                duration: duration\n            };\n        },\n    },\n    methods: {\n        prevSound: function() {\n            var ref = this;\n            var currentIndex = ref.appData.mainItems.findIndex(item => item._id === ref.appData.currentItem._id);\n            if (currentIndex !== 0) {\n                console.log(ref.appData.mainItems[currentIndex-1]);\n                ref.playSound(ref.appData,ref.appData.mainItems[currentIndex-1]);\n            }\n        },\n        nextSound: function() {\n            var ref = this;\n            var nextIndex = ref.appData.mainItems.findIndex(item => item._id === ref.appData.currentItem._id)+1;\n            if (nextIndex === ref.appData.currentItem.length-1) {                \n                nextIndex = 0;\n            }\n            console.log(nextIndex);\n            ref.playSound(ref.appData,ref.appData.mainItems[nextIndex]);\n        },\n        seekPlay: function(e){\n            var ref = this;\n            var rect = e.currentTarget.getBoundingClientRect();\n            var x = e.clientX - rect.left;\n            var percentage = x / e.currentTarget.offsetWidth;\n            var curItem = ref.appData.currentItem;\n            var seconds = curItem.duration * percentage;\n            ref.seekSound(curItem,seconds);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .AudioPlayer {\n      display: flex;\n      align-items: baseline;\n      justify-content: center;\n    .AudioPlayer_SoundControls,\n    .AudioPlayer_MarketControls {\n        white-space: nowrap;\n    }\n    .AudioPlayer_PlayPause,\n    .AudioPlayer_RewindPrev,\n    .AudioPlayer_FowardNext,\n    .AudioPlayer_Like,\n    .AudioPlayer_Buy {\n        position: relative;\n        display: inline-block;\n        vertical-align: middle;\n        cursor: pointer;\n        height: 30px;\n        line-height: 30px;\n        width: 30px;\n        box-sizing: border-box;\n        background: rgba(255,255,255,0.4);\n        color:transparent;\n        border-radius: 10px;\n        margin-right: 10px;\n        text-align: center;\n        font-size: 0.75rem;\n        -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        &:last-child {\n            margin-right: 0;\n        }\n        &:before {\n            content: '';\n            background-image: url(~@/assets/icons-audioplayer.svg);\n            height:100%;\n            width:100%;\n            position:absolute;\n            top:0;\n            left:0;\n            opacity: 0.75;\n        }\n    }\n    .AudioPlayer_PlayPause {\n        border-radius: 10px;\n        height: 40px;\n        width: 40px;\n        &:before {\n            background-position: 0 -75px;\n        }\n    }\n    &[data-status=\"playing\"] {\n        .AudioPlayer_PlayPause {\n            &:before {\n                background-position: -40px -75px;\n            }\n        }\n    }\n    .AudioPlayer_RewindPrev {\n        &:before {\n            background-position: 0 -115px;\n        }\n    }\n    .AudioPlayer_FowardNext {\n        &:before {\n            background-position: -30px -115px;\n        }\n    }\n    .AudioPlayer_Like {\n        &:before {\n            background-position: -60px -115px;\n        }\n    }\n    .AudioPlayer_Buy {\n        font-weight: 600;\n        text-transform: uppercase;\n        width: auto;\n        padding: 0 20px;\n        color:black;\n        &:before {\n            background-image: none;\n        }\n    }\n    .AudioPlayer_Progress {\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n        display: inline-block;\n        align-self: center;\n        height: 40px;\n        width: 100%;\n        margin: 0 10px;\n        border-radius: 15px;\n        background: #e2ebf0; /* Old browsers */\n        background: -moz-linear-gradient(-45deg,  #e2ebf0 0%, #cfd9df 100%); /* FF3.6-15 */\n        background: -webkit-linear-gradient(-45deg,  #e2ebf0 0%,#cfd9df 100%); /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(135deg,  #e2ebf0 0%,#cfd9df 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);\n        -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);\n        box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);        \n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2ebf0', endColorstr='#cfd9df',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\n        .AudioPlayer_ProgressFill,\n        .AudioPlayer_SelectionFill {\n            position: absolute;\n            top:0;\n            left:0;\n            height: 100%;\n        }\n        .AudioPlayer_ProgressFill {\n            background: #37aef3;\n            &:after {\n                display:none;\n                content: '';\n                height:100%;\n                width: 2px;\n                background: rgba(255,255,255,0.5);\n                position: absolute;\n                right: -2px;\n                -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n                -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n                box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n            }\n            &:hover {\n                opacity: 0.75;\n            }\n        }\n        .AudioPlayer_ProgressTime {\n            position:absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%,-50%);\n            font-size:1rem;\n            font-weight: 600;\n            color: black;\n            opacity: 0.65;\n        }\n    }\n    .AudioPlayer_Details {\n        align-self: center;\n        margin-left: 5px;\n        margin-right: 20px;\n        font-size: 0.75rem;\n        .AudioPlayer_DetailsRow {\n            white-space: nowrap;\n        }\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/audio"}]}