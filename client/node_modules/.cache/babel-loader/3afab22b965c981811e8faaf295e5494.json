{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js!/Users/hervey/Projects/Development/audiomarketplace/node_modules/eslint-loader/index.js??ref--13-0!/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/router.js","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/router.js","mtime":1631384062828},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwppbXBvcnQgcm91dGVzIGZyb20gJ0AvY29tcG9uZW50cy9wYWdlcy9yb3V0ZXMuanMnOwppbXBvcnQgeyBnZXRBdXRoIH0gZnJvbSAiZmlyZWJhc2UvYXV0aCI7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciByZXF1aXJlc0F1dGggPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHgpIHsKICAgIHJldHVybiB4Lm1ldGEucmVxdWlyZXNBdXRoOwogIH0pOwogIHZhciBhdXRoZW50aWNhdGlvbiA9IGdldEF1dGgoKTsKICB2YXIgY3VycmVudFVzZXIgPSBhdXRoZW50aWNhdGlvbi5jdXJyZW50VXNlcjsKCiAgaWYgKHJlcXVpcmVzQXV0aCAmJiAhY3VycmVudFVzZXIpIHsKICAgIG5leHQoJy9kYXNoYm9hcmQnKTsKICB9IC8vIEFkZCBpZiBsb2dpbiwgYW5kIGFscmVhZHkgbG9nZ2VkIGluLCBnbyB0byBwcm9maWxlCiAgZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/router.js"],"names":["Vue","VueRouter","use","routes","getAuth","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","requiresAuth","matched","some","x","meta","authentication","currentUser"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACAD,GAAG,CAACE,GAAJ,CAAQD,SAAR;AACA,OAAOE,MAAP,MAAmB,8BAAnB;AACA,SAASC,OAAT,QAAwB,eAAxB;AAEA,IAAMC,MAAM,GAAG,IAAIJ,SAAJ,CAAc;AAC3BK,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BP,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAE,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,YAAY,GAAGH,EAAE,CAACI,OAAH,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,CAAOJ,YAAX;AAAA,GAAjB,CAArB;AACA,MAAMK,cAAc,GAAGhB,OAAO,EAA9B;AACA,MAAMiB,WAAW,GAAGD,cAAc,CAACC,WAAnC;;AACA,MAAIN,YAAY,IAAI,CAACM,WAArB,EAAkC;AAChCP,IAAAA,IAAI,CAAC,YAAD,CAAJ;AACD,GAFD,CAGA;AAHA,OAIK;AACHA,MAAAA,IAAI;AACL;AACF,CAXD;AAcA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nimport routes from '@/components/pages/routes.js';\nimport { getAuth } from \"firebase/auth\";\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some(x => x.meta.requiresAuth)\n  const authentication = getAuth();\n  const currentUser = authentication.currentUser;\n  if (requiresAuth && !currentUser) {\n    next('/dashboard')\n  } \n  // Add if login, and already logged in, go to profile\n  else {\n    next()\n  }\n})\n\n\nexport default router;"]}]}