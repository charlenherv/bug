{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioPlayer.vue","mtime":1631384415653},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEF1ZGlvRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vbWl4aW5zL0F1ZGlvRnVuY3Rpb25zLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogW0F1ZGlvRnVuY3Rpb25zXSwKICAgIG5hbWU6ICJBdWRpb1BsYXllciIsCiAgICBwcm9wczogWydhcHBEYXRhJ10sCiAgICBjb21wdXRlZDogewogICAgICAgIGNsaXBUaW1lOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgbGV0IHRpbWUgPSB0aGlzLmFwcERhdGEuY3VycmVudEl0ZW0ucGxheU1vZGUgPT09ICd0cmltJyA/IHRoaXMuYXBwRGF0YS5jdXJyZW50SXRlbS5jdXJyZW50VGltZSAtIHRoaXMuYXBwRGF0YS5jcm9wcGVyLnN0YXJ0IDogdGhpcy5hcHBEYXRhLmN1cnJlbnRJdGVtLmN1cnJlbnRUaW1lOwogICAgICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLmFwcERhdGEuY3VycmVudEl0ZW0ucGxheU1vZGUgPT09ICd0cmltJyA/IHRoaXMuYXBwRGF0YS5jdXJyZW50SXRlbS5jcm9wcGVyLmR1cmF0aW9uIDogdGhpcy5hcHBEYXRhLmN1cnJlbnRJdGVtLmR1cmF0aW9uOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGN1clRpbWU6IHRpbWUsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24KICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBwcmV2U291bmQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgcmVmID0gdGhpczsKICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHJlZi5hcHBEYXRhLm1haW5JdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLl9pZCA9PT0gcmVmLmFwcERhdGEuY3VycmVudEl0ZW0uX2lkKTsKICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCAhPT0gMCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVmLmFwcERhdGEubWFpbkl0ZW1zW2N1cnJlbnRJbmRleC0xXSk7CiAgICAgICAgICAgICAgICByZWYucGxheVNvdW5kKHJlZi5hcHBEYXRhLHJlZi5hcHBEYXRhLm1haW5JdGVtc1tjdXJyZW50SW5kZXgtMV0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBuZXh0U291bmQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgcmVmID0gdGhpczsKICAgICAgICAgICAgdmFyIG5leHRJbmRleCA9IHJlZi5hcHBEYXRhLm1haW5JdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLl9pZCA9PT0gcmVmLmFwcERhdGEuY3VycmVudEl0ZW0uX2lkKSsxOwogICAgICAgICAgICBpZiAobmV4dEluZGV4ID09PSByZWYuYXBwRGF0YS5jdXJyZW50SXRlbS5sZW5ndGgtMSkgeyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2cobmV4dEluZGV4KTsKICAgICAgICAgICAgcmVmLnBsYXlTb3VuZChyZWYuYXBwRGF0YSxyZWYuYXBwRGF0YS5tYWluSXRlbXNbbmV4dEluZGV4XSk7CiAgICAgICAgfSwKICAgICAgICBzZWVrUGxheTogZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmVjdCA9IGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgdmFyIHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgICAgICAgIHZhciBwZXJjZW50YWdlID0geCAvIGUuY3VycmVudFRhcmdldC5vZmZzZXRXaWR0aDsKICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSByZWYuYXBwRGF0YS5jdXJyZW50SXRlbTsKICAgICAgICAgICAgdmFyIHNlY29uZHMgPSBjdXJJdGVtLmR1cmF0aW9uICogcGVyY2VudGFnZTsKICAgICAgICAgICAgcmVmLnNlZWtTb3VuZChjdXJJdGVtLHNlY29uZHMpOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["AudioPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AudioPlayer.vue","sourceRoot":"src/components/audio","sourcesContent":["<template>\n    <div class=\"AudioPlayer\" :data-status=\"appData.currentItem.status\">\n        <div class=\"AudioPlayer_SoundControls\">\n            <div class=\"AudioPlayer_PlayPause\" @click=\"playSound(appData, appData.currentItem, null)\">Play</div>\n            <div class=\"AudioPlayer_RewindPrev\" @click=\"prevSound()\">Rewind/Previous</div>\n            <div class=\"AudioPlayer_FowardNext\" @click=\"nextSound()\">Forward/Next</div>\n        </div>\n        <div class=\"AudioPlayer_Progress\" @click=\"seekPlay\">\n            <div class=\"AudioPlayer_ProgressFill\" :style=\"{width: (clipTime.curTime/clipTime.duration) * 100 + '%'}\"></div>\n            <div style=\"display: none;\" class=\"AudioPlayer_ProgressTime\" v-if=\"clipTime.curTime && clipTime.duration\">\n                {{ parseInt((clipTime.curTime)) + ' / ' + parseFloat(clipTime.duration) }}\n            </div>\n        </div>\n         <div v-if=\"appData.currentItem.title\" class=\"AudioPlayer_Details\" style=\"display:none\">\n            <div class=\"AudioPlayer_DetailsRow\">\n                <span class=\"AudioPlayer_DetailsTitle\">{{ appData.currentItem.title }}</span>\n            </div>\n            <div class=\"AudioPlayer_DetailsRow\">\n                <span>By </span><span class=\"AudioPlayer_DetailsAuthor\">{{ appData.currentItem.author }}</span>\n            </div>\n        </div>\n        <div class=\"AudioPlayer_MarketControls\" style=\"display:none\">\n            <div class=\"AudioPlayer_Like\">Save</div>\n            <div class=\"AudioPlayer_Buy\">Buy</div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { AudioFunctions } from '../../mixins/AudioFunctions.js';\n\nexport default {\n    mixins: [AudioFunctions],\n    name: \"AudioPlayer\",\n    props: ['appData'],\n    computed: {\n        clipTime: function() {\n            let time = this.appData.currentItem.playMode === 'trim' ? this.appData.currentItem.currentTime - this.appData.cropper.start : this.appData.currentItem.currentTime;\n            let duration = this.appData.currentItem.playMode === 'trim' ? this.appData.currentItem.cropper.duration : this.appData.currentItem.duration;\n            \n            return {\n                curTime: time,\n                duration: duration\n            };\n        },\n    },\n    methods: {\n        prevSound: function() {\n            var ref = this;\n            var currentIndex = ref.appData.mainItems.findIndex(item => item._id === ref.appData.currentItem._id);\n            if (currentIndex !== 0) {\n                console.log(ref.appData.mainItems[currentIndex-1]);\n                ref.playSound(ref.appData,ref.appData.mainItems[currentIndex-1]);\n            }\n        },\n        nextSound: function() {\n            var ref = this;\n            var nextIndex = ref.appData.mainItems.findIndex(item => item._id === ref.appData.currentItem._id)+1;\n            if (nextIndex === ref.appData.currentItem.length-1) {                \n                nextIndex = 0;\n            }\n            console.log(nextIndex);\n            ref.playSound(ref.appData,ref.appData.mainItems[nextIndex]);\n        },\n        seekPlay: function(e){\n            var ref = this;\n            var rect = e.currentTarget.getBoundingClientRect();\n            var x = e.clientX - rect.left;\n            var percentage = x / e.currentTarget.offsetWidth;\n            var curItem = ref.appData.currentItem;\n            var seconds = curItem.duration * percentage;\n            ref.seekSound(curItem,seconds);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .AudioPlayer {\n      display: flex;\n      align-items: baseline;\n      justify-content: center;\n    .AudioPlayer_SoundControls,\n    .AudioPlayer_MarketControls {\n        white-space: nowrap;\n    }\n    .AudioPlayer_PlayPause,\n    .AudioPlayer_RewindPrev,\n    .AudioPlayer_FowardNext,\n    .AudioPlayer_Like,\n    .AudioPlayer_Buy {\n        position: relative;\n        display: inline-block;\n        vertical-align: middle;\n        cursor: pointer;\n        height: 30px;\n        line-height: 30px;\n        width: 30px;\n        box-sizing: border-box;\n        background: rgba(255,255,255,0.4);\n        color:transparent;\n        border-radius: 10px;\n        margin-right: 10px;\n        text-align: center;\n        font-size: 0.75rem;\n        -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n        &:last-child {\n            margin-right: 0;\n        }\n        &:before {\n            content: '';\n            background-image: url(~@/assets/icons-audioplayer.svg);\n            height:100%;\n            width:100%;\n            position:absolute;\n            top:0;\n            left:0;\n            opacity: 0.75;\n        }\n    }\n    .AudioPlayer_PlayPause {\n        border-radius: 10px;\n        height: 40px;\n        width: 40px;\n        &:before {\n            background-position: 0 -75px;\n        }\n    }\n    &[data-status=\"playing\"] {\n        .AudioPlayer_PlayPause {\n            &:before {\n                background-position: -40px -75px;\n            }\n        }\n    }\n    .AudioPlayer_RewindPrev {\n        &:before {\n            background-position: 0 -115px;\n        }\n    }\n    .AudioPlayer_FowardNext {\n        &:before {\n            background-position: -30px -115px;\n        }\n    }\n    .AudioPlayer_Like {\n        &:before {\n            background-position: -60px -115px;\n        }\n    }\n    .AudioPlayer_Buy {\n        font-weight: 600;\n        text-transform: uppercase;\n        width: auto;\n        padding: 0 20px;\n        color:black;\n        &:before {\n            background-image: none;\n        }\n    }\n    .AudioPlayer_Progress {\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n        display: inline-block;\n        align-self: center;\n        height: 40px;\n        width: 100%;\n        margin: 0 10px;\n        border-radius: 15px;\n        background: #e2ebf0; /* Old browsers */\n        background: -moz-linear-gradient(-45deg,  #e2ebf0 0%, #cfd9df 100%); /* FF3.6-15 */\n        background: -webkit-linear-gradient(-45deg,  #e2ebf0 0%,#cfd9df 100%); /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(135deg,  #e2ebf0 0%,#cfd9df 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);\n        -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);\n        box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.025), -2px -2px 8px rgba(255,255,255, 0.25);        \n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2ebf0', endColorstr='#cfd9df',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\n        .AudioPlayer_ProgressFill,\n        .AudioPlayer_SelectionFill {\n            position: absolute;\n            top:0;\n            left:0;\n            height: 100%;\n        }\n        .AudioPlayer_ProgressFill {\n            background: #37aef3;\n            &:after {\n                display:none;\n                content: '';\n                height:100%;\n                width: 2px;\n                background: rgba(255,255,255,0.5);\n                position: absolute;\n                right: -2px;\n                -webkit-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n                -moz-box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n                box-shadow: 4px 4px 8px 0px rgba(0,0,0,0.075);\n            }\n            &:hover {\n                opacity: 0.75;\n            }\n        }\n        .AudioPlayer_ProgressTime {\n            position:absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%,-50%);\n            font-size:1rem;\n            font-weight: 600;\n            color: black;\n            opacity: 0.65;\n        }\n    }\n    .AudioPlayer_Details {\n        align-self: center;\n        margin-left: 5px;\n        margin-right: 20px;\n        font-size: 0.75rem;\n        .AudioPlayer_DetailsRow {\n            white-space: nowrap;\n        }\n    }\n  }\n</style>\n"]}]}