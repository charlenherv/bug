{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/Dashboard.vue?vue&type=style&index=0&id=6ff93f89&lang=scss&scoped=true&","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/Dashboard.vue","mtime":1632166868777},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgokYm9yZGVyLXNpemU6IDJweDsKJGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgLkRhc2hib2FyZCB7ICAKICAgICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTsgIC8qIElFIGFuZCBFZGdlICovCiAgICBzY3JvbGxiYXItd2lkdGg6IG5vbmU7ICAvKiBGaXJlZm94ICovCiAgICBmbGV4LWdyb3c6IDE7CiAgICBtYXJnaW4tbGVmdDoyMHB4OwogICAgbWFyZ2luLXJpZ2h0OjIwcHg7CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgb3ZlcmZsb3cteDogaGlkZGVuOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLkZlYXR1cmVkSXRlbXMgewogICAgICBmbG9hdDogbGVmdDsKICAgICAgd2lkdGg6IGNhbGMoNTIlIC0gNDBweCk7CiAgICAgIG1hcmdpbi1yaWdodDogMjBweDsKICAgIH0KICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHsKICAgICAgLkZlYXR1cmVkSXRlbXMgewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIG1hcmdpbi1yaWdodDogMDsKICAgICAgICBtYXJnaW4tYm90dG9tOjIwcHg7CiAgICAgICAgZmxvYXQ6IG5vbmU7CiAgICAgIH0KICAgIH0KICAgIC5GZWVkSXRlbSB7ICAgICAgCiAgICAgIG1hcmdpbi1ib3R0b206MjBweDsKICAgIH0KICAgICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTsKCiAgICAmLnNjcmVlblNoYWtlIHsKICAgICAgLXdlYmtpdC1hbmltYXRpb246IHNjcmVlblNoYWtlIDAuMDI1cyBsaW5lYXIgaW5maW5pdGUgYm90aDsKICAgICAgYW5pbWF0aW9uOiBzY3JlZW5TaGFrZSAwLjAyNXMgbGluZWFyIGluZmluaXRlIGJvdGg7CiAgICB9CiAgfQogIC5EYXNoYm9hcmRfQ29udGFpbmVyIHsKICAgIG1hcmdpbjogMCBhdXRvIDIwcHggYXV0bzsKICAgIG1heC13aWR0aDogMTAwMHB4OwogIH0KICAuTWFpbkZlZWQgewogICAgcGFkZGluZy10b3A6IDEwcHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjEpOwogIH0KICAuTWVzc2FnZUNlbnRlciB7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogIH0KICBALXdlYmtpdC1rZXlmcmFtZXMgc2NyZWVuU2hha2UgewogICAgMCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDApOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDApOwogICAgfQogICAgMTAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAtMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAtMnB4KTsKICAgIH0KICAgIDIwJSB7CiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMnB4LCAtMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIC0ycHgpOwogICAgfQogICAgMzAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIDJweCk7CiAgICB9CiAgICA0MCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDJweCwgMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIDJweCk7CiAgICB9CiAgICA1MCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIC0ycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIC0ycHgpOwogICAgfQogICAgNjAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIC0ycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDJweCwgLTJweCk7CiAgICB9CiAgICA3MCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIDJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgMnB4KTsKICAgIH0KICAgIDgwJSB7CiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgLTJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgLTJweCk7CiAgICB9CiAgICA5MCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDJweCwgLTJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMnB4LCAtMnB4KTsKICAgIH0KICAgIDEwMCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDApOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDApOwogICAgfQogIH0KICBAa2V5ZnJhbWVzIHNjcmVlblNoYWtlIHsKICAgIDAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgwKTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwKTsKICAgIH0KICAgIDEwJSB7CiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgLTJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgLTJweCk7CiAgICB9CiAgICAyMCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDJweCwgLTJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMnB4LCAtMnB4KTsKICAgIH0KICAgIDMwJSB7CiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTJweCwgMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAycHgpOwogICAgfQogICAgNDAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIDJweCk7CiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMnB4LCAycHgpOwogICAgfQogICAgNTAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAtMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAtMnB4KTsKICAgIH0KICAgIDYwJSB7CiAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMnB4LCAtMnB4KTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIC0ycHgpOwogICAgfQogICAgNzAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMnB4LCAycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIDJweCk7CiAgICB9CiAgICA4MCUgewogICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIC0ycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0ycHgsIC0ycHgpOwogICAgfQogICAgOTAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgycHgsIC0ycHgpOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDJweCwgLTJweCk7CiAgICB9CiAgICAxMDAlIHsKICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgwKTsKICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwKTsKICAgIH0KICB9CgoKICA6bGFzdC1jaGlsZCB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogIH0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <div :class=\"{\n    'Dashboard':true, \n    'screenShake':(appData.currentItem.id && appData.currentItem.screenShake === true)\n  }\" \n  @scroll=\"onDashboardScroll\">\n    <div class=\"Dashboard_Container\">\n      <div class=\"MessageCenter\">\n        <div class=\"MessageCenter_Left\">\n          <div class=\"MessageCenter_SiteWide\">\n            <MessageBox v-for=\"(item,index) in appData.messages.siteWide\" :key=\"index\" :item=\"item\" :type=\"'siteWide'\" :appData=\"appData\"/>\n          </div>\n        </div>\n        <div class=\"MessageCenter_Right\">\n          <div class=\"MessageCenter_UserRelated\">\n            <MessageBox v-for=\"(item,index) in appData.messages.userRelated\" :key=\"index\" :item=\"item\" :type=\"'userRelated'\" :appData=\"appData\"/>\n          </div>\n        </div>\n        </div>\n\n        <UploadBox v-if=\"uploadBox\" :appData=\"appData\"/>\n\n        <div class=\"MainFeed\">\n            <div style=\"margin-bottom:5px\">\n              <div class=\"AudioBox_Tags\" v-for=\"(tag,index) in appData.itemSettings.tags\" :key=\"index\" :data-button=\"appData.tags.includes(tag.id) ? 'on': 'off'\" :data-button-color=\"'grey, blue'\" @click=\"toggleTag(tag.id)\">{{tag.label}}</div>\n            </div>\n          \n            <!-- Featured Audio and Ad Items -->\n            <div class=\"FeaturedItems\" v-if=\"feedItems.featured.length>0\">\n              <component class=\"FeedItem\" v-for=\"(item,index) in feedItems.featured\" :key=\"index\" v-bind:is=\"item.type\" :mode=\"'mainFeed'\" :item=\"item\"  :appData=\"appData\"/>\n            </div>\n            <!-- Audio and Ads Items -->\n            <div class=\"MainItems\">\n              <component class=\"FeedItem\" v-for=\"(item,index) in feedItems.main\" :key=\"index\" v-bind:is=\"item.type\" :mode=\"'mainFeed'\" :item=\"item\"  :appData=\"appData\"/>\n            </div>\n        </div>\n    </div>\n    <div class=\"Dashboard_LoadingMore\" ref=\"loadingMore\" data-button=\"\" data-button-color=\"grey,blue\" :style=\"{opacity: loadingAudio ? 1 : 0}\">Loading more...</div>\n  </div>\n</template>\n\n<script>\nimport UploadBox from \"../general/UploadBox.vue\"\nimport AudioBox from \"../audio/AudioBox.vue\"\nimport AdBox from \"../ads/AdBox.vue\"\nimport { AudioFunctions } from '../../mixins/AudioFunctions.js'\nimport MessageBox from \"../general/MessageBox.vue\"\n\nexport default {\n  name: \"Dashboard\",\n  mixins: [AudioFunctions],\n  components: {\n    UploadBox,\n    AudioBox,\n    AdBox,\n    MessageBox\n  },\n  props: ['appData'],\n  computed: {\n    feedItems() { \n      var ref = this;\n      var feedItems = [];\n      var featuredFeedItems = [];\n      \n      var adThreshold = 10;\n      var adCounter = 1;\n      var counter; \n      function findCommonElement(array1, array2) { \n            for(let i = 0; i < array1.length; i++) { \n                for(let j = 0; j < array2.length; j++) { \n                    if(array1[i] === array2[j]) { \n                        return true; \n                    } \n                } \n            } \n            return false;  \n      }\n      for (counter = 0; counter < ref.appData.mainItems.length; counter++) {\n          // Build item\n          var itemData = ref.appData.mainItems[counter];\n          itemData.type = \"AudioBox\";\n\n        // Check against tags        \n        var isMatch = findCommonElement(this.appData.tags, itemData.editable.tags);\n        if (this.appData.tags.length < 1 || \n          itemData.type === 'AudioBox' && isMatch || \n          itemData.type !== 'AudioBox'\n        ) {\n          \n          // Add audio item\n          var matchingItem = ref.appData.featuredItems.filter(item => {\n            return item.id === itemData.id\n          });\n          if (matchingItem.length>0) {\n            itemData[\"color\"] = \"yellow\";\n            featuredFeedItems.push(itemData);\n          }\n          else {\n            itemData[\"color\"] = \"grey\";\n            feedItems.push(itemData);\n            adCounter++\n          }\n          // Add advertisment item\n          if (adCounter % adThreshold === 0 || counter === 0 ) {\n            feedItems.push({\n              'type': 'AdBox' \n            });\n          }\n        }\n      }\n        \n      return {\n        \"main\": feedItems,\n        \"featured\": featuredFeedItems\n      };\n    }\n  },\n  data() {\n    return {\n      uploadBox: true,\n      loadingAudio: false\n    }\n  },\n  methods:{\n    initializeDashboard(){\n      //var ref = this;\n      //this.loadSound(this.feedItems.featured[0],this.currentitem)\n    },\n    loadMoreAudio() {\n      var newItems =[];\n          \n          this.loadingAudio = true;\n          this.appData.mainItems.push(...newItems);\n          this.loadingAudio = false;\n    },\n    onDashboardScroll() {\n      var loadingMoreFlag = this.$refs[\"loadingMore\"];\n      if (loadingMoreFlag) {\n          var marginTop = loadingMoreFlag.getBoundingClientRect().top;\n          var innerHeight = window.innerHeight;\n      if ((marginTop - innerHeight) < -50) {                 \n            this.loadMoreAudio();\n          }                               \n      }  \n    },\n    toggleTag(tagId) {\n      if (this.appData.tags.includes(tagId)) {\n        this.appData.tags = this.appData.tags.filter(e => e !== tagId);\n      } else {\n        this.appData.tags = [...this.appData.tags,tagId];\n      }\n    }\n  },\n  mounted() {\n    var ref = this;\n    ref.initializeDashboard();\n\n    // Continous scroll/Lazy load audio\n    this.onDashboardScroll();\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.onDashboardScroll);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$border-size: 2px;\n$border-radius: 10px;\n  .Dashboard {  \n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n    flex-grow: 1;\n    margin-left:20px;\n    margin-right:20px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    text-align: center;\n    .FeaturedItems {\n      float: left;\n      width: calc(52% - 40px);\n      margin-right: 20px;\n    }\n    @media only screen and (max-width: 600px) {\n      .FeaturedItems {\n        width: 100%;\n        margin-right: 0;\n        margin-bottom:20px;\n        float: none;\n      }\n    }\n    .FeedItem {      \n      margin-bottom:20px;\n    }\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;\n\n    &.screenShake {\n      -webkit-animation: screenShake 0.025s linear infinite both;\n      animation: screenShake 0.025s linear infinite both;\n    }\n  }\n  .Dashboard_Container {\n    margin: 0 auto 20px auto;\n    max-width: 1000px;\n  }\n  .MainFeed {\n    padding-top: 10px;\n    border-top: 1px solid rgba(0,0,0,0.1);\n  }\n  .MessageCenter {\n    overflow: hidden;\n  }\n  @-webkit-keyframes screenShake {\n    0% {\n      -webkit-transform: translate(0);\n              transform: translate(0);\n    }\n    10% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    20% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    30% {\n      -webkit-transform: translate(-2px, 2px);\n              transform: translate(-2px, 2px);\n    }\n    40% {\n      -webkit-transform: translate(2px, 2px);\n              transform: translate(2px, 2px);\n    }\n    50% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    60% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    70% {\n      -webkit-transform: translate(-2px, 2px);\n              transform: translate(-2px, 2px);\n    }\n    80% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    90% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    100% {\n      -webkit-transform: translate(0);\n              transform: translate(0);\n    }\n  }\n  @keyframes screenShake {\n    0% {\n      -webkit-transform: translate(0);\n              transform: translate(0);\n    }\n    10% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    20% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    30% {\n      -webkit-transform: translate(-2px, 2px);\n              transform: translate(-2px, 2px);\n    }\n    40% {\n      -webkit-transform: translate(2px, 2px);\n              transform: translate(2px, 2px);\n    }\n    50% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    60% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    70% {\n      -webkit-transform: translate(-2px, 2px);\n              transform: translate(-2px, 2px);\n    }\n    80% {\n      -webkit-transform: translate(-2px, -2px);\n              transform: translate(-2px, -2px);\n    }\n    90% {\n      -webkit-transform: translate(2px, -2px);\n              transform: translate(2px, -2px);\n    }\n    100% {\n      -webkit-transform: translate(0);\n              transform: translate(0);\n    }\n  }\n\n\n  :last-child {\n    margin-bottom: 20px;\n  }\n</style>\n"]}]}