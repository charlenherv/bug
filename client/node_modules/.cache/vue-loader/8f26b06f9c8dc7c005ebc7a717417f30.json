{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/pages/Profile.vue","mtime":1633412027426},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBVcGxvYWRCb3ggZnJvbSAiLi4vZ2VuZXJhbC9VcGxvYWRCb3gudnVlIgppbXBvcnQgQXVkaW9Cb3ggZnJvbSAiLi4vYXVkaW8vQXVkaW9Cb3gudnVlIgppbXBvcnQgUGxheWxpc3RCb3ggZnJvbSAiLi4vYXVkaW8vUGxheWxpc3RCb3gudnVlIgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9maWxlIiwKICBjb21wb25lbnRzOiB7QXVkaW9Cb3gsIFVwbG9hZEJveCwgUGxheWxpc3RCb3h9LAogIHByb3BzOiBbJ2FwcERhdGEnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc291bmRzOiBbXSwKICAgICAgbGlrZXM6IFtdLAogICAgICBwbGF5bGlzdHM6IFtdLAogICAgICB1cGxvYWRCb3g6IHRydWUsCiAgICAgIGN1cnJlbnRTZWN0aW9uOiAnc291bmRzJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJEYXRhKCl7CiAgICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXIucHJvZmlsZSB8fCB7fTsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICB1c2VyTmFtZTogcHJvZmlsZURhdGEudXNlcm5hbWUsCiAgICAgICAgZGlzcGxheU5hbWU6IHByb2ZpbGVEYXRhLmRpc3BsYXlOYW1lLAogICAgICAgIGNvdW50cnk6IHByb2ZpbGVEYXRhLmNvdW50cnksCiAgICAgICAgYmlvOiBwcm9maWxlRGF0YS5iaW8sCiAgICAgICAgc291bmRDb3VudDogdGhpcy5zb3VuZHMgPyB0aGlzLnNvdW5kcy5sZW5ndGggKyAnIHNvdW5kcyc6ICdIZSBoYXMgbm8gc291bmRzJwogICAgICB9CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlrZXMobGlrZXMpIHsKICAgICAgYXhpb3MKICAgICAgLmdldCgnL3Byb2ZpbGVMaWtlcycsIHsgcGFyYW1zOiB7IGxpa2VzOiBsaWtlcyB9IH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+ICh0aGlzLmxpa2VzID0gcmVzcG9uc2UuZGF0YS5zb3VuZHMpKQogICAgfSwKICAgIGNoYW5nZVNlY3Rpb24oc2VjdGlvbikgewogICAgICB0aGlzLmN1cnJlbnRTZWN0aW9uID0gc2VjdGlvbjsKICAgIH0sCiAgICB1cGRhdGVQbGF5bGlzdFNvdW5kcyhzb3VuZHMsIGl0ZW0pIHsKICAgICAgaXRlbS5zb3VuZHMgPSBzb3VuZHM7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdmFyIHVzZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRVc2VyLl9pZDsKICAgIHZhciBsaWtlcyA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRVc2VyLmxpa2VzOwogICAgdmFyIHBsYXlsaXN0cyA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRVc2VyLnBsYXlsaXN0czsKCiAgICAvLyBVc2VyIFNvdW5kcwogICAgYXhpb3MKICAgICAgLmdldCgnL3Byb2ZpbGVTb3VuZHMnLCB7IHBhcmFtczogeyB1c2VySWQ6IHVzZXJJZCB9IH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+ICh0aGlzLnNvdW5kcyA9IHJlc3BvbnNlLmRhdGEuc291bmRzKSkKCiAgICBheGlvcwogICAgICAuZ2V0KCcvZ2V0TGlrZXMnLCB7IHBhcmFtczogeyBsaWtlczogdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXIubGlrZXMgfSB9KQogICAgICAudGhlbihyZXNwb25zZSA9PiAodGhpcy5saWtlcyA9IHJlc3BvbnNlLmRhdGEuc291bmRzKSkKCiAgICBheGlvcwogICAgICAuZ2V0KCcvcHJvZmlsZVBsYXlsaXN0cycsIHsgcGFyYW1zOiB7IHVzZXJJZDogdXNlcklkIH0gfSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMucGxheWxpc3RzID0gcmVzcG9uc2UuZGF0YS5wbGF5bGlzdHMpKQogIH0KfTsK"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <div class=\"Profile\">    \n    <div class=\"Profile_Container\">\n      <div class=\"Profile_Head\">\n        <div class=\"Profile_TopLeft\">\n          <div class=\"Profile_Row\">\n            <div class=\"Avatar\">\n\n            </div>\n            <div class=\"Details\">\n              <div>{{userData.displayName}}</div>\n              <div>{{userData.userName}}</div>\n              <div>{{userData.soundCount}}</div>\n            </div>\n          </div>\n          <div class=\"Profile_Row\">\n            <div class=\"Details_Bio\">\n              {{userData.bio}}\n            </div>\n          </div>\n        </div>\n        <div class=\"Profile_TopRight\">\n\n        </div>\n      </div>\n      <div class=\"Profile_Body\">\n        <UploadBox v-if=\"uploadBox\" :appData=\"appData\"/>\n        <div class=\"UserContent_Filter\">\n          <div :data-button=\"currentSection === 'sounds' ? 'active': 'disabled'\" @click=\"changeSection('sounds')\">Sounds</div>\n          <div :data-button=\"currentSection === 'likes' ? 'active': 'disabled'\" @click=\"changeSection('likes')\">Likes</div>\n          <div :data-button=\"currentSection === 'playlists' ? 'active': 'disabled'\" @click=\"changeSection('playlists')\">Playlists</div>\n        </div>\n        <div class=\"UserContent\">\n          <div class=\"User_Sounds\" v-if=\"currentSection === 'sounds'\">\n            <AudioBox v-for=\"(item,index) in sounds\" :key=\"index\" :item=\"item\" :mode=\"'profile'\" :appData=\"appData\"/>\n            <div v-if=\"sounds.length < 1\">You have added no sounds.</div>\n          </div>\n          <div class=\"User_Likes\" v-if=\"currentSection === 'likes'\">\n            <AudioBox v-for=\"(item,index) in likes\" :key=\"index\" :item=\"item\" :mode=\"'profile'\" :appData=\"appData\"/>\n          </div>\n          <div class=\"User_Playlists\" v-if=\"currentSection === 'playlists'\">\n            <PlaylistBox v-for=\"(item,index) in playlists\" :key=\"index\" :item=\"item\" :mode=\"'profile'\" :appData=\"appData\" @sounds=\"updatePlaylistSounds($event,item)\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport UploadBox from \"../general/UploadBox.vue\"\nimport AudioBox from \"../audio/AudioBox.vue\"\nimport PlaylistBox from \"../audio/PlaylistBox.vue\"\n\nexport default {\n  name: \"Profile\",\n  components: {AudioBox, UploadBox, PlaylistBox},\n  props: ['appData'],\n  data() {\n    return {\n      sounds: [],\n      likes: [],\n      playlists: [],\n      uploadBox: true,\n      currentSection: 'sounds'\n    }\n  },\n  computed: {\n    userData(){\n      const profileData = this.$store.state.currentUser.profile || {};\n      const data = {\n        userName: profileData.username,\n        displayName: profileData.displayName,\n        country: profileData.country,\n        bio: profileData.bio,\n        soundCount: this.sounds ? this.sounds.length + ' sounds': 'He has no sounds'\n      }\n      return data;\n    }\n  },\n  methods: {\n    getLikes(likes) {\n      axios\n      .get('/profileLikes', { params: { likes: likes } })\n      .then(response => (this.likes = response.data.sounds))\n    },\n    changeSection(section) {\n      this.currentSection = section;\n    },\n    updatePlaylistSounds(sounds, item) {\n      item.sounds = sounds;\n    }\n  },\n  created() {\n    var userId = this.$store.state.currentUser._id;\n    var likes = this.$store.state.currentUser.likes;\n    var playlists = this.$store.state.currentUser.playlists;\n\n    // User Sounds\n    axios\n      .get('/profileSounds', { params: { userId: userId } })\n      .then(response => (this.sounds = response.data.sounds))\n\n    axios\n      .get('/getLikes', { params: { likes: this.$store.state.currentUser.likes } })\n      .then(response => (this.likes = response.data.sounds))\n\n    axios\n      .get('/profilePlaylists', { params: { userId: userId } })\n      .then(response => (this.playlists = response.data.playlists))\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .Profile {\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n    flex-grow: 1;\n    margin-left:20px;\n    margin-right:20px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    text-align: center;\n    padding: 30px 0;;\n  }\n</style>\n"]}]}