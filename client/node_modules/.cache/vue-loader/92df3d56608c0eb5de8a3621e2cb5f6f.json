{"remainingRequest":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioTrimmer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hervey/Projects/Development/audiomarketplace/src/components/audio/AudioTrimmer.vue","mtime":1631384392549},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hervey/Projects/Development/audiomarketplace/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0ICJqcXVlcnktdWkvdWkvd2lkZ2V0cy9yZXNpemFibGUiOwppbXBvcnQgImpxdWVyeS11aS91aS93aWRnZXRzL2RyYWdnYWJsZSI7CmltcG9ydCB7IEF1ZGlvRnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vbWl4aW5zL0F1ZGlvRnVuY3Rpb25zLmpzJzsKCnZhciBsaW1pdER1cmF0aW9uID0gMTA7CmxldCBlbmRQcmV2aWV3T2Zmc2V0ID0gMzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJBdWRpb0Nyb3BwZXIiLAogICAgcHJvcHM6IFsnYXBwRGF0YScsJ2l0ZW0nXSwKICAgIG1peGluczogW0F1ZGlvRnVuY3Rpb25zXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8gRGF0YQogICAgICAgICAgICB0b3RhbER1cmF0aW9uOiB0aGlzLml0ZW0uZHVyYXRpb24sCiAgICAgICAgICAgIGNyb3BEdXJhdGlvbjogdGhpcy5pdGVtLmVkaXRhYmxlLnByZXZpZXcuZHVyYXRpb24sCiAgICAgICAgICAgIGNyb3BTdGFydDogdGhpcy5pdGVtLmVkaXRhYmxlLnByZXZpZXcuc3RhcnQsCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBEaXNwbGF5IAogICAgICAgICAgICBkcmFnU3BhY2U6IHsKICAgICAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgICByaWdodDogMAogICAgICAgICAgICB9LAogICAgICAgICAgICBtYXJrZXJXaWR0aDogewogICAgICAgICAgICAgICAgc3RhcnQ6IDUwLAogICAgICAgICAgICAgICAgZW5kOiA1MAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICBkaXNwbGF5Q29tcHV0ZWQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50cmltTnVtYmVyKHRoaXMuY3JvcER1cmF0aW9uLDIpOwogICAgICAgIH0sCiAgICAgICAgZGlzcGxheVRpbWVTdGFydDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaW1OdW1iZXIodGhpcy5jcm9wU3RhcnQsMik7CiAgICAgICAgfSwKICAgICAgICBkaXNwbGF5VGltZUVuZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaW1OdW1iZXIoKHRoaXMuY3JvcFN0YXJ0ICsgdGhpcy5jcm9wRHVyYXRpb24pLDIpOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgdHJpbU51bWJlcjogZnVuY3Rpb24obnVtLGRlY2ltYWxzKSB7CiAgICAgICAgICAgIGxldCBudW1iZXIgPSBudW07CiAgICAgICAgICAgIHZhciBzID0gbnVtLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHZhciBkID0gcy5zcGxpdCgiLiIpOwogICAgICAgICAgICBpZiAoZC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICBkWzFdID0gZFsxXS5zdWJzdHJpbmcoMCwgZGVjaW1hbHMpOwogICAgICAgICAgICAgICAgbnVtYmVyID0gcGFyc2VGbG9hdChkLmpvaW4oIi4iKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bWJlcjsKICAgICAgICB9LCAgICAgICAgCiAgICAgICAgc2V0Q3JvcHBlclNpemU6IGZ1bmN0aW9uKHRpbWUpewogICAgICAgICAgICBjb25zdCBDcm9wcGVyRGF0YSA9IHRoaXM7CiAgICAgICAgICAgIGNvbnN0IGZyYW1lV2lkdGggPSBDcm9wcGVyRGF0YS4kcmVmcy5GcmFtZS5vZmZzZXRXaWR0aDsKICAgICAgICAgICAgdmFyIHBpeGVsU2NhbGUgPSAoZnJhbWVXaWR0aC9Dcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uKTsKICAgICAgICAgICAgdmFyIGNyb3BMZWZ0ID0gcGl4ZWxTY2FsZSAqIHRpbWUuc3RhcnQ7CiAgICAgICAgICAgIHZhciBjcm9wV2lkdGggPSBwaXhlbFNjYWxlICogdGltZS5kdXJhdGlvbjsKICAgICAgICAgICAgCiAgICAgICAgICAgIENyb3BwZXJEYXRhLiRyZWZzLkNyb3Auc3R5bGUud2lkdGggPSBjcm9wV2lkdGggKyAncHgnOwogICAgICAgICAgICBDcm9wcGVyRGF0YS4kcmVmcy5Dcm9wLnN0eWxlLmxlZnQgPSBjcm9wTGVmdCArICdweCcKICAgICAgICAgICAgQ3JvcHBlckRhdGEuc2V0TWFya2VyV2lkdGgoKTsKICAgICAgICB9LAogICAgICAgIHNldE1hcmtlcldpZHRoOiBmdW5jdGlvbigpewogICAgICAgICAgICBjb25zdCBDcm9wcGVyRGF0YSA9IHRoaXM7CiAgICAgICAgICAgIENyb3BwZXJEYXRhLm1hcmtlcldpZHRoID0gewogICAgICAgICAgICAgICAgc3RhcnQ6IENyb3BwZXJEYXRhLiRyZWZzLlRpbWVNYXJrZXJfU3RhcnQub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgICBlbmQ6IENyb3BwZXJEYXRhLiRyZWZzLlRpbWVNYXJrZXJfRW5kLm9mZnNldFdpZHRoCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ3JvcHBlckRhdGEuZHJhZ1NwYWNlID0gewogICAgICAgICAgICAgICAgbGVmdDogQ3JvcHBlckRhdGEuJHJlZnMuQ3JvcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gQ3JvcHBlckRhdGEuJHJlZnMuRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwKICAgICAgICAgICAgICAgIHJpZ2h0OiBDcm9wcGVyRGF0YS4kcmVmcy5GcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodC0gQ3JvcHBlckRhdGEuJHJlZnMuQ3JvcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0cmltSW5wdXQ6IGZ1bmN0aW9uKHByb3BlcnR5KSB7CiAgICAgICAgICAgIGNvbnN0IENyb3BwZXJEYXRhID0gdGhpczsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBTdXBlcklucHV0IGluc3RhbmNlCiAgICAgICAgICAgIFZ1ZS5zZXQoQ3JvcHBlckRhdGEuYXBwRGF0YS50b29scy5zdXBlcklucHV0LCdzdGF0ZScsIGZhbHNlKTsKCiAgICAgICAgICAgIC8vIEdldCBwcmV2aW91cyB0aW1lCiAgICAgICAgICAgIGxldCBwcmV2VGltZSA9IHsKICAgICAgICAgICAgICAgICdkdXJhdGlvbic6IENyb3BwZXJEYXRhLmNyb3BEdXJhdGlvbiwKICAgICAgICAgICAgICAgICdzdGFydCc6IENyb3BwZXJEYXRhLmNyb3BTdGFydAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSZXNldCBTdXBlcklucHV0CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIFZ1ZS5zZXQoQ3JvcHBlckRhdGEuYXBwRGF0YS50b29scy5zdXBlcklucHV0LCdpdGVtcycsIFtdKTsKCiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHZhbHVlIGZvciBTdXBlcklucHV0CiAgICAgICAgICAgICAgICBsZXQgZGVmYXVsdFZhbHVlID0gcHJvcGVydHkgPT09ICdzdGFydCcgPyBwcmV2VGltZS5zdGFydDogCiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9PT0gJ2R1cmF0aW9uJyA/IHByZXZUaW1lLmR1cmF0aW9uOiAKICAgICAgICAgICAgICAgIHByb3BlcnR5ID09PSAnZW5kJyA/IHByZXZUaW1lLnN0YXJ0ICsgcHJldlRpbWUuZHVyYXRpb246IAogICAgICAgICAgICAgICAgMDsKCiAgICAgICAgICAgICAgICAvLyBBZGQgbmV3IFN1cGVySW5wdXQgZGF0YQogICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuYXBwRGF0YS50b29scy5zdXBlcklucHV0Lml0ZW1zID0gWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NpbmdsZUxpbmUnLAogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMudHJpbU51bWJlcihkZWZhdWx0VmFsdWUsMiksCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbihpbnB1dCxjYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VGbG9hdChpbnB1dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogQ3JvcHBlckRhdGEuY3JvcER1cmF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGFydCc6IENyb3BwZXJEYXRhLmNyb3BTdGFydAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzVHJpbSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnc3RhcnQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IDAgJiYgdmFsdWUgPD0gKENyb3BwZXJEYXRhLnRvdGFsRHVyYXRpb24gLSBsaW1pdER1cmF0aW9uKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGF0YS5zdGFydCA9IHZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKHRpbWVEYXRhLnN0YXJ0ICsgdGltZURhdGEuZHVyYXRpb24pIDwgbGltaXREdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGEuZHVyYXRpb24gPSBsaW1pdER1cmF0aW9uOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lRGF0YS5zdGFydCArIHRpbWVEYXRhLmR1cmF0aW9uID4gQ3JvcHBlckRhdGEudG90YWxEdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGEuZHVyYXRpb24gPSBDcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uIC0gdGltZURhdGEuc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1RyaW0gPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkgPT09ICdlbmQnIHx8IHByb3BlcnR5ID09PSAnZHVyYXRpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IGxpbWl0RHVyYXRpb24gJiYgdmFsdWUgPD0gQ3JvcHBlckRhdGEudG90YWxEdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgPT09ICdlbmQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gdGltZURhdGEuc3RhcnQgKyBsaW1pdER1cmF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGEuZHVyYXRpb24gPSAgdmFsdWUgLSB0aW1lRGF0YS5zdGFydDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVHJpbSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2R1cmF0aW9uJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDw9IENyb3BwZXJEYXRhLnRvdGFsRHVyYXRpb24gLSB0aW1lRGF0YS5zdGFydCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEYXRhLmR1cmF0aW9uID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1RyaW0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKHRpbWVEYXRhLnN0YXJ0ICsgdGltZURhdGEuZHVyYXRpb24pIDwgbGltaXREdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGEuZHVyYXRpb24gPSBsaW1pdER1cmF0aW9uOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lRGF0YS5zdGFydCArIHRpbWVEYXRhLmR1cmF0aW9uID4gQ3JvcHBlckRhdGEudG90YWxEdXJhdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGEuZHVyYXRpb24gPSBDcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uIC0gdGltZURhdGEuc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NUcmltID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuY3JvcFN0YXJ0ID0gdGltZURhdGEuc3RhcnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuY3JvcER1cmF0aW9uID0gdGltZURhdGEuZHVyYXRpb247CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lRGF0YS5zdGFydCAhPT0gcHJldlRpbWUuc3RhcnQgfHwgdGltZURhdGEuZHVyYXRpb24gIT09IHByZXZUaW1lLmR1cmF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyb3BwZXJEYXRhLnNldENyb3BwZXJTaXplKHRpbWVEYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuc2V0TWFya2VyV2lkdGgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuJGVtaXQoJ2Nyb3BEYXRhJywgdGltZURhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlNb2RlOiAndHJpbScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGF0YTogdGltZURhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnZW5kJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZWVrID0gdGltZURhdGEuZHVyYXRpb24gLSBlbmRQcmV2aWV3T2Zmc2V0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jcm9wU2lkZSA9ICdlbmQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENyb3BwZXJEYXRhLnBsYXlTb3VuZChDcm9wcGVyRGF0YS5hcHBEYXRhLCBDcm9wcGVyRGF0YS5pdGVtLCBvcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIFZ1ZS5zZXQoQ3JvcHBlckRhdGEuYXBwRGF0YS50b29scy5zdXBlcklucHV0LCdzdGF0ZScsIHRydWUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBjb25zdCBDcm9wcGVyRGF0YSA9IHRoaXM7CiAgICAgICAgdmFyIGdldFRpbWUgPSBmdW5jdGlvbihDcm9wcGVyRGF0YSxjcm9wTGVmdCxjcm9wU2l6ZSxmcmFtZVNpemUpIHsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gKGNyb3BMZWZ0L2ZyYW1lU2l6ZSkgKiBDcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uOwogICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBDcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uICogKGNyb3BTaXplL2ZyYW1lU2l6ZSk7CgogICAgICAgICAgICB2YXIgbGF0ZXN0U3RhcnQgPSBDcm9wcGVyRGF0YS50b3RhbER1cmF0aW9uIC0gbGltaXREdXJhdGlvbjsKICAgICAgICAgICAgaWYgKHN0YXJ0ID4gbGF0ZXN0U3RhcnQpIHsKICAgICAgICAgICAgICAgIHN0YXJ0ID0gbGF0ZXN0U3RhcnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGR1cmF0aW9uIDwgbGltaXREdXJhdGlvbikgewogICAgICAgICAgICAgICAgZHVyYXRpb24gPSBsaW1pdER1cmF0aW9uOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgJ3N0YXJ0JzogcGFyc2VGbG9hdChzdGFydCksCiAgICAgICAgICAgICAgICAnZHVyYXRpb24nOiBwYXJzZUZsb2F0KGR1cmF0aW9uKQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICAvLyBJbnRlcmFjdGlvbnMKICAgICAgICB2YXIgcHJldlRpbWUgPSB7CiAgICAgICAgICAgICdkdXJhdGlvbic6IENyb3BwZXJEYXRhLmNyb3BEdXJhdGlvbiwKICAgICAgICAgICAgJ3N0YXJ0JzogQ3JvcHBlckRhdGEuY3JvcFN0YXJ0CiAgICAgICAgfQogICAgICAgICQodGhpcy4kcmVmcy5Dcm9wKQogICAgICAgIC5kcmFnZ2FibGUoewogICAgICAgICAgICBheGlzOiAieCIsCiAgICAgICAgICAgIGNvbnRhaW5tZW50OiAicGFyZW50IiwKICAgICAgICAgICAgY2FuY2VsOiAiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLAogICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHByZXZUaW1lID0gewogICAgICAgICAgICAgICAgICAgICdkdXJhdGlvbic6IENyb3BwZXJEYXRhLmNyb3BEdXJhdGlvbiwKICAgICAgICAgICAgICAgICAgICAnc3RhcnQnOiBDcm9wcGVyRGF0YS5jcm9wU3RhcnQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHJhZzogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IGdldFRpbWUoQ3JvcHBlckRhdGEsdWkucG9zaXRpb24ubGVmdCwkKHVpLmhlbHBlcikud2lkdGgoKSwkKHVpLmhlbHBlcikucGFyZW50KCkud2lkdGgoKSk7CiAgICAgICAgICAgICAgICBDcm9wcGVyRGF0YS5jcm9wRHVyYXRpb24gPSB0aW1lLmR1cmF0aW9uOwogICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuY3JvcFN0YXJ0ID0gdGltZS5zdGFydDsKICAgICAgICAgICAgICAgIENyb3BwZXJEYXRhLnNldE1hcmtlcldpZHRoKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgLy8gU2VuZCB0byBhdWRpbyBwbGF5ZXIKICAgICAgICAgICAgICAgIHZhciB0aW1lRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAnZHVyYXRpb24nOiBDcm9wcGVyRGF0YS5jcm9wRHVyYXRpb24sCiAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0JzogQ3JvcHBlckRhdGEuY3JvcFN0YXJ0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAodGltZURhdGEuc3RhcnQgIT09IHByZXZUaW1lLnN0YXJ0IHx8IHRpbWVEYXRhLmR1cmF0aW9uICE9PSBwcmV2VGltZS5kdXJhdGlvbikgeyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuc2V0TWFya2VyV2lkdGgoKTsKICAgICAgICAgICAgICAgICAgICBDcm9wcGVyRGF0YS4kZW1pdCgnY3JvcERhdGEnLCB0aW1lRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlNb2RlOiAndHJpbScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEYXRhOiB0aW1lRGF0YQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEucGxheVNvdW5kKENyb3BwZXJEYXRhLmFwcERhdGEsIENyb3BwZXJEYXRhLml0ZW0sIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAucmVzaXphYmxlKHsgCiAgICAgICAgICAgIGNvbnRhaW5tZW50OiAicGFyZW50IiwKICAgICAgICAgICAgaGFuZGxlczogeyAKICAgICAgICAgICAgICAgICd3JzogJyNDcm9wX0xlZnQnLAogICAgICAgICAgICAgICAgJ2UnOiAnI0Nyb3BfUmlnaHQnIAogICAgICAgICAgICB9LAogICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgICAgICAgICBwcmV2VGltZSA9IHsKICAgICAgICAgICAgICAgICAgICAnZHVyYXRpb24nOiBDcm9wcGVyRGF0YS5jcm9wRHVyYXRpb24sCiAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0JzogQ3JvcHBlckRhdGEuY3JvcFN0YXJ0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZnJhbWVTaXplID0gJCh1aS5lbGVtZW50KS5wYXJlbnQoKS53aWR0aCgpOwogICAgICAgICAgICAgICAgdmFyIGxpbWl0V2lkdGggPSBmcmFtZVNpemUvQ3JvcHBlckRhdGEudG90YWxEdXJhdGlvbiAqIGxpbWl0RHVyYXRpb247CiAgICAgICAgICAgICAgICAkKHVpLmVsZW1lbnQpLnJlc2l6YWJsZSggIm9wdGlvbiIsICJtaW5XaWR0aCIsIGxpbWl0V2lkdGgpOwogICAgICAgICAgICB9LAogICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKGV2ZW50LCB1aSkgewogICAgICAgICAgICAgICAgdmFyIGZyYW1lU2l6ZSA9ICQodWkuZWxlbWVudCkucGFyZW50KCkud2lkdGgoKSwKICAgICAgICAgICAgICAgIGNyb3BTaXplID0gdWkuc2l6ZS53aWR0aCwKICAgICAgICAgICAgICAgIGxlZnRQb3NpdGlvbiA9IHVpLnBvc2l0aW9uLmxlZnQ7CiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IGdldFRpbWUoQ3JvcHBlckRhdGEsbGVmdFBvc2l0aW9uLGNyb3BTaXplLGZyYW1lU2l6ZSk7CiAgICAgICAgICAgICAgICBDcm9wcGVyRGF0YS5jcm9wRHVyYXRpb24gPSB0aW1lLmR1cmF0aW9uOwogICAgICAgICAgICAgICAgQ3JvcHBlckRhdGEuY3JvcFN0YXJ0ID0gdGltZS5zdGFydDsKICAgICAgICAgICAgICAgIENyb3BwZXJEYXRhLnNldE1hcmtlcldpZHRoKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKGV2ZW50LCB1aSkgewogICAgICAgICAgICAgICAgLy8gU2VuZCB0byBhdWRpbyBwbGF5ZXIKICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9ICQodWkuZWxlbWVudCkuZGF0YSgndWktcmVzaXphYmxlJykuYXhpcyA9PT0gJ3cnID8gJ3N0YXJ0JzogJ2VuZCc7IAogICAgICAgICAgICAgICAgdmFyIHRpbWVEYXRhID0gewogICAgICAgICAgICAgICAgICAgICdkdXJhdGlvbic6IENyb3BwZXJEYXRhLmNyb3BEdXJhdGlvbiwKICAgICAgICAgICAgICAgICAgICAnc3RhcnQnOiBDcm9wcGVyRGF0YS5jcm9wU3RhcnQKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKHRpbWVEYXRhLnN0YXJ0ICE9PSBwcmV2VGltZS5zdGFydCB8fCB0aW1lRGF0YS5kdXJhdGlvbiAhPT0gcHJldlRpbWUuZHVyYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBDcm9wcGVyRGF0YS5zZXRNYXJrZXJXaWR0aCgpOwogICAgICAgICAgICAgICAgICAgIENyb3BwZXJEYXRhLiRlbWl0KCdjcm9wRGF0YScsIHRpbWVEYXRhKTsKICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGxheU1vZGU6ICd0cmltJywKICAgICAgICAgICAgICAgICAgICAgICAgdGltZURhdGE6IHRpbWVEYXRhCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgPT09ICdlbmQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VlayA9IHRpbWVEYXRhLmR1cmF0aW9uIC0gZW5kUHJldmlld09mZnNldDsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jcm9wU2lkZSA9ICdlbmQnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBDcm9wcGVyRGF0YS5wbGF5U291bmQoQ3JvcHBlckRhdGEuYXBwRGF0YSwgQ3JvcHBlckRhdGEuaXRlbSwgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZQogICAgICAgIENyb3BwZXJEYXRhLmNyb3BEdXJhdGlvbiA9IENyb3BwZXJEYXRhLml0ZW0uZWRpdGFibGUucHJldmlldy5kdXJhdGlvbjsKICAgICAgICBDcm9wcGVyRGF0YS5jcm9wU3RhcnQgPSBDcm9wcGVyRGF0YS5pdGVtLmVkaXRhYmxlLnByZXZpZXcuc3RhcnQ7CiAgICAgICAgQ3JvcHBlckRhdGEuc2V0TWFya2VyV2lkdGgoKTsKICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgICQodGhpcy4kcmVmcy4kQ3JvcCkuZHJhZ2dhYmxlKCJkZXN0cm95IikucmVzaXphYmxlKCJkZXN0cm95Iik7CiAgICB9Cn07Cg=="},{"version":3,"sources":["AudioTrimmer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AudioTrimmer.vue","sourceRoot":"src/components/audio","sourcesContent":["<template>\n<!-- \n    Developer notes:\n\n    Test for orientation change while resizing. Reset if possible.\n    Test for change in width while resizing. Reset if possible.\n\n    Testing width change during no interaction and width does not adjust to AudioBox width. Reset on resize.\n    \n    Resize limit makes next drag in other direction inoperable. You have to click again to drag. Troubleshoot.\n\n    When all the way to the right. The start time can be push if you keep draggint past the limit to the right. Calculate start time limit.\n-->\n  <div ref=\"Frame\" class=\"AudioCropper_Frame\">\n    <div ref=\"Crop\" class=\"AudioCropper_Crop\">\n            <div id=\"Crop_Left\" class=\"ui-resizable-handle ui-resizable-w\" @dblclick=\"trimInput('start')\">\n                <div class=\"TimeMarker TimeStart\" ref=\"TimeMarker_Start\" :data-side=\"markerWidth.start < dragSpace.left ? 'left':'right'\"><span>{{displayTimeStart}}</span></div>\n            </div>\n            <div id=\"Crop_Right\" class=\"ui-resizable-handle ui-resizable-e\" @dblclick=\"trimInput('end')\">\n                <div class=\"TimeMarker TimeEnd\" ref=\"TimeMarker_End\" :data-side=\"markerWidth.end < dragSpace.right ? 'right':'left'\"><span>{{displayTimeEnd}}</span></div> \n            </div> \n            <div class=\"Crop_Duration\" @dblclick=\"trimInput('duration')\">{{displayComputed}}s</div>  \n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport $ from \"jquery\";\nimport \"jquery-ui/ui/widgets/resizable\";\nimport \"jquery-ui/ui/widgets/draggable\";\nimport { AudioFunctions } from '../../mixins/AudioFunctions.js';\n\nvar limitDuration = 10;\nlet endPreviewOffset = 3;\n\nexport default {\n    name: \"AudioCropper\",\n    props: ['appData','item'],\n    mixins: [AudioFunctions],\n    data() {\n        return {\n            // Data\n            totalDuration: this.item.duration,\n            cropDuration: this.item.editable.preview.duration,\n            cropStart: this.item.editable.preview.start,\n            \n            // Display \n            dragSpace: {\n                left: 0,\n                right: 0\n            },\n            markerWidth: {\n                start: 50,\n                end: 50\n            }\n        }\n    },\n    computed:{\n        displayComputed: function() {\n            return this.trimNumber(this.cropDuration,2);\n        },\n        displayTimeStart: function() {\n            return this.trimNumber(this.cropStart,2);\n        },\n        displayTimeEnd: function() {\n            return this.trimNumber((this.cropStart + this.cropDuration),2);\n        }\n    },\n    methods: {\n        trimNumber: function(num,decimals) {\n            let number = num;\n            var s = num.toString();\n            var d = s.split(\".\");\n            if (d.length > 1) {\n                d[1] = d[1].substring(0, decimals);\n                number = parseFloat(d.join(\".\"));\n            }\n            return number;\n        },        \n        setCropperSize: function(time){\n            const CropperData = this;\n            const frameWidth = CropperData.$refs.Frame.offsetWidth;\n            var pixelScale = (frameWidth/CropperData.totalDuration);\n            var cropLeft = pixelScale * time.start;\n            var cropWidth = pixelScale * time.duration;\n            \n            CropperData.$refs.Crop.style.width = cropWidth + 'px';\n            CropperData.$refs.Crop.style.left = cropLeft + 'px'\n            CropperData.setMarkerWidth();\n        },\n        setMarkerWidth: function(){\n            const CropperData = this;\n            CropperData.markerWidth = {\n                start: CropperData.$refs.TimeMarker_Start.offsetWidth,\n                end: CropperData.$refs.TimeMarker_End.offsetWidth\n            }\n            CropperData.dragSpace = {\n                left: CropperData.$refs.Crop.getBoundingClientRect().left - CropperData.$refs.Frame.getBoundingClientRect().left,\n                right: CropperData.$refs.Frame.getBoundingClientRect().right- CropperData.$refs.Crop.getBoundingClientRect().right\n            }\n        },\n        trimInput: function(property) {\n            const CropperData = this;\n            \n            // Remove previous SuperInput instance\n            Vue.set(CropperData.appData.tools.superInput,'state', false);\n\n            // Get previous time\n            let prevTime = {\n                'duration': CropperData.cropDuration,\n                'start': CropperData.cropStart\n            }\n            \n            // Reset SuperInput\n            this.$nextTick(function () {\n                Vue.set(CropperData.appData.tools.superInput,'items', []);\n\n                // Default value for SuperInput\n                let defaultValue = property === 'start' ? prevTime.start: \n                property === 'duration' ? prevTime.duration: \n                property === 'end' ? prevTime.start + prevTime.duration: \n                0;\n\n                // Add new SuperInput data\n                CropperData.appData.tools.superInput.items = [\n                    {\n                        type: 'singleLine',\n                        defaultValue: this.trimNumber(defaultValue,2),\n                        callback: function(input,callback) {\n                            let value = parseFloat(input);\n                            let timeData = {\n                                'duration': CropperData.cropDuration,\n                                'start': CropperData.cropStart\n                            };\n                            let processTrim = false;\n                            if (property === 'start') {\n                                if (value >= 0 && value <= (CropperData.totalDuration - limitDuration)) {\n                                    timeData.start = value\n                                    if ( (timeData.start + timeData.duration) < limitDuration) {\n                                        timeData.duration = limitDuration;                                    \n                                    }\n                                    if (timeData.start + timeData.duration > CropperData.totalDuration) {\n                                        timeData.duration = CropperData.totalDuration - timeData.start;\n                                    }\n                                    processTrim = true\n                                }\n                            }\n                            else if (property === 'end' || property === 'duration') {\n                                if (value >= limitDuration && value <= CropperData.totalDuration) {\n                                    if (property === 'end') {\n                                        if (value >= timeData.start + limitDuration) {\n                                            timeData.duration =  value - timeData.start;\n                                            processTrim = true;\n                                        } \n                                    }\n                                    if (property === 'duration') {\n                                        if (value <= CropperData.totalDuration - timeData.start) {\n                                            timeData.duration = value;\n                                            processTrim = true;\n                                        }\n                                    }\n                                    if ( (timeData.start + timeData.duration) < limitDuration) {\n                                        timeData.duration = limitDuration;\n                                    }\n                                    if (timeData.start + timeData.duration > CropperData.totalDuration) {\n                                        timeData.duration = CropperData.totalDuration - timeData.start;\n                                    }\n                                }\n                            }\n\n                            if (processTrim === true) {\n                                CropperData.cropStart = timeData.start;\n                                CropperData.cropDuration = timeData.duration;\n                        \n                                if (timeData.start !== prevTime.start || timeData.duration !== prevTime.duration) {\n                                    CropperData.setCropperSize(timeData);\n                                    CropperData.setMarkerWidth();\n                                    CropperData.$emit('cropData', timeData);\n                                    var options = {\n                                        playMode: 'trim',\n                                        timeData: timeData\n                                    };\n                                    if (property === 'end') {\n                                        options.seek = timeData.duration - endPreviewOffset;\n                                        options.cropSide = 'end';\n                                    }\n                                    CropperData.playSound(CropperData.appData, CropperData.item, options);\n                                }\n                                \n                                callback();\n                            }\n                        }\n                    }\n                ]\n                Vue.set(CropperData.appData.tools.superInput,'state', true);\n            });\n        }\n    },\n    mounted() {\n        const CropperData = this;\n        var getTime = function(CropperData,cropLeft,cropSize,frameSize) {\n            var start = (cropLeft/frameSize) * CropperData.totalDuration;\n            var duration = CropperData.totalDuration * (cropSize/frameSize);\n\n            var latestStart = CropperData.totalDuration - limitDuration;\n            if (start > latestStart) {\n                start = latestStart;\n            }\n            if (duration < limitDuration) {\n                duration = limitDuration;\n            }\n            \n            return {\n                'start': parseFloat(start),\n                'duration': parseFloat(duration)\n            }\n        };\n        \n        // Interactions\n        var prevTime = {\n            'duration': CropperData.cropDuration,\n            'start': CropperData.cropStart\n        }\n        $(this.$refs.Crop)\n        .draggable({\n            axis: \"x\",\n            containment: \"parent\",\n            cancel: \".ui-resizable-handle\",\n            start: function(){\n                prevTime = {\n                    'duration': CropperData.cropDuration,\n                    'start': CropperData.cropStart\n                }\n            },\n            drag: function(event, ui) {\n                var time = getTime(CropperData,ui.position.left,$(ui.helper).width(),$(ui.helper).parent().width());\n                CropperData.cropDuration = time.duration;\n                CropperData.cropStart = time.start;\n                CropperData.setMarkerWidth();\n            },\n            stop: function() {\n                // Send to audio player\n                var timeData = {\n                    'duration': CropperData.cropDuration,\n                    'start': CropperData.cropStart\n                };\n                \n                if (timeData.start !== prevTime.start || timeData.duration !== prevTime.duration) {                    \n                    CropperData.setMarkerWidth();\n                    CropperData.$emit('cropData', timeData);\n                    var options = {\n                        playMode: 'trim',\n                        timeData: timeData\n                    };\n                    CropperData.playSound(CropperData.appData, CropperData.item, options);\n                }\n            }\n        })\n        .resizable({ \n            containment: \"parent\",\n            handles: { \n                'w': '#Crop_Left',\n                'e': '#Crop_Right' \n            },\n            start: function(event, ui) {\n                prevTime = {\n                    'duration': CropperData.cropDuration,\n                    'start': CropperData.cropStart\n                }\n                var frameSize = $(ui.element).parent().width();\n                var limitWidth = frameSize/CropperData.totalDuration * limitDuration;\n                $(ui.element).resizable( \"option\", \"minWidth\", limitWidth);\n            },\n            resize: function(event, ui) {\n                var frameSize = $(ui.element).parent().width(),\n                cropSize = ui.size.width,\n                leftPosition = ui.position.left;\n                var time = getTime(CropperData,leftPosition,cropSize,frameSize);\n                CropperData.cropDuration = time.duration;\n                CropperData.cropStart = time.start;\n                CropperData.setMarkerWidth();\n            },\n            stop: function(event, ui) {\n                // Send to audio player\n                var property = $(ui.element).data('ui-resizable').axis === 'w' ? 'start': 'end'; \n                var timeData = {\n                    'duration': CropperData.cropDuration,\n                    'start': CropperData.cropStart\n                };\n\n                if (timeData.start !== prevTime.start || timeData.duration !== prevTime.duration) {\n                    CropperData.setMarkerWidth();\n                    CropperData.$emit('cropData', timeData);\n                    var options = {\n                        playMode: 'trim',\n                        timeData: timeData\n                    };\n                    if (property === 'end') {\n                        options.seek = timeData.duration - endPreviewOffset;\n                        options.cropSide = 'end';\n                    }\n                    CropperData.playSound(CropperData.appData, CropperData.item, options);\n                }\n            }\n        });\n\n        // Initialize\n        CropperData.cropDuration = CropperData.item.editable.preview.duration;\n        CropperData.cropStart = CropperData.item.editable.preview.start;\n        CropperData.setMarkerWidth();\n    },\n    beforeDestroy() {\n        $(this.$refs.$Crop).draggable(\"destroy\").resizable(\"destroy\");\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.AudioCropper_Frame {\n    position: relative;\n    height: 40px;\n    width: 100%;\n    border-radius: 10px;\n    background: lightgray;\n    transition: all 1s;\n    .AudioCropper_Crop {\n        cursor: pointer;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        background: rgb(48, 131, 255);\n    }\n}\n.ui-resizable-handle {\n    z-index: 2;\n    position: absolute;\n    top:0;\n    height: 100%;\n    width:12.5px;\n    &#Crop_Left {\n        left: 0;\n        &:before {\n            transform-origin: center left;\n        }\n    }\n    &#Crop_Right {\n        right:0;\n        &:before {\n            transform-origin: center right;\n        }\n    }\n    .TimeMarker {\n        display: none;\n        position: absolute;\n        box-sizing: border-box;\n        line-height: 17.5px;\n        height: 17.5px;\n        padding: 0 5px;\n        font-size: 65%;\n        font-weight: bold;\n        color: white;\n        background: rgb(26, 74, 145);\n        &.TimeStart {\n            top: 0;\n            left: 0;\n            transform: translate(0, 0);\n            &[data-side=\"left\"] {\n                left: auto;\n                transform: translate(-100%, 0);\n            }\n        }\n        &.TimeEnd {\n            bottom: 0;\n            right:0;\n            transform: translate(0, 0);\n            &[data-side=\"right\"] {\n                transform: translate(100%, 0);\n            }\n        }\n    }\n    &:before {\n        content: '';\n        position: absolute;\n        top:0;\n        height: 100%;\n        width:100%;\n        background: rgb(26, 74, 145);\n        transition: all 0.75s;\n    }\n    &:after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%,-50%);\n        height: 75%;\n        width:2px;\n        background: rgba(255,255,255,0.1);\n        border-radius: 2px;\n    }\n    &:active {\n    cursor: none;\n        .TimeMarker {\n            display: block;\n        }\n        &:before {\n            transition: all 0.1s;\n        }\n        &:after {\n            display: none;\n        }\n    }\n}\n\n.AudioCropper_Crop.ui-draggable-dragging .ui-resizable-handle,\n.ui-resizable-handle:active,\n.ui-resizable-handle:hover {\n    cursor: none;\n    .TimeMarker {\n        display: block;\n    }\n    &:before {\n        transition: all 0.1s;\n        transform: scaleX(.25);\n    }\n    &:after {\n        display: none;\n    }\n}\n\n.Crop_Duration {\n    z-index: 1;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    font-size: .7rem;\n    font-weight: 600;\n    color: white;\n}\n\n\n</style>\n"]}]}